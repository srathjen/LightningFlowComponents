<apex:page standardController="Case" extensions="WishChildForm_AC"  standardStylesheets="false" title="Make-A-Wish Communities | Wish Family Form" showHeader="false" sidebar="false" docType="html-5.0">
   <apex:includeScript value="{!URLFOR($Resource.MakeAWishAmericaDesign,'js/jquery.min.js')}"/> 
<!--<apex:stylesheet value="{!URLFOR($Resource.MakeAWishAmericaDesign, 'css/bootstrap.min.css')}" /> -->
    <apex:stylesheet value="{!URLFOR($Resource.MakeAWishAmericaDesign, 'css/bootstrap-theme.min.css')}" />
    <apex:stylesheet value="{!URLFOR($Resource.MakeAWishAmericaDesign, 'css/ng_responsive_tables.css')}" />
    <apex:stylesheet value="{!URLFOR($Resource.MakeAWishAmericaDesign, 'css/page.css')}" />
    <apex:includeScript value="{!URLFOR($Resource.MakeAWishAmericaDesign,'js/bootstrap.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.MakeAWishAmericaDesign,'js/ng_responsive_tables.js')}"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"/>    
    <apex:stylesheet value="{!URLFOR($Resource.MakeAWishAmericaDesign, 'css/datepicker.min.css')}" />
    <apex:includeScript value="{!URLFOR($Resource.MakeAWishAmericaDesign,'js/bootstrap-datepicker.min.js')}"/>
      
    <apex:include pageName="prospective_head" id="phead" />   
    <style>
        @media (max-width: 480px) {
        table.multiSelectPicklistTable {table-layout: fixed;width: 255px; margin-left:-5%;margin: auto;}
        table.multiSelectPicklistTable td{width:100%;float:left;clear:left; overflow: hidden;}
        .multiSelectPicklistCell {height:56px !important; width:45px !important; margin-left:41%;}
        .header-logo{height:60px !important;margin-left: 55px !important;}
        }
        @media all and (max-width: 960px) and (min-width: 520px), (min-width: 480px) {
        table.responsive,
        table.responsive thead,
        table.responsive tbody,
        table.responsive th,
        table.responsive td,
        table.responsive tr { display: block; }
        table.responsive thead tr { position: absolute; top: -9999px; left: -9999px; }
        table.responsive tr { border: 1px solid #ccc; margin-bottom: 10px; }
        table.responsive td { border: none; border-bottom: 1px solid #eee; position: relative; padding-left: 50%; }
        table.responsive td:before {    position: absolute; top: 6px; left: 6px; width: 40%; padding-right: 10px; text-align: left; word-wrap: break-word; }
        table.responsive tr:first-child { position: absolute; top: -9999px; left: -9999px; }
        table.responsive td:before { content: attr(data-content); height: 50px; }
        table.responsive td.small-padding { padding-top: 5px; padding-bottom: 5px; }
        table.responsive td.medium-padding { padding-top: 15px; padding-bottom: 15px; }
        table.responsive td.large-padding { padding-top: 10px; padding-bottom: 25px; }
        
        table.responsive td:nth-child(odd){
        background:#f9f9f9;
        }
        table.responsive td:nth-child(even){
        background:#fff;
        }
        td.mobiltxt:before{width:100% !important;}
        .mobiltxt{
        display:block;
        font-weight:bold; 
        }
        table.responsive td {width:100%}
        }
        .alert {
        padding: 0px!important;
        border: 0px solid transparent!important;
        }
        .messageText{
        padding:10px;
        }
        
        form .form-control {
        border-radius: 0;
        font-family: "Arial", sans-serif;
        font-size: 0.7rem; !important;
        padding-top: .61rem;
        padding-bottom: .9em;
        }
            
        .form-control {
        height:inherit; !important
        }
        
        select {
        height:30px;
        line-height:30px;
        background:#f4f4f4;
    } 
    
        .container-body{
            border-bottom: 0px solid black !important;
            border-top: 0px solid black  !important;
    }
        .sideNav {
            position: fixed;
            z-index: 99;
            top: 140px;
            left: 5px;
        }
        .sideNav .navMenu {font-weight : 900;color:#0076d2;text-decoration:none;}
        .sideNav a {
            text-decoration : none !important;
        }
        header,main {max-width : 1000px !important;}
    </style>
     <style type="text/css">
            .vfHelpText a            {position:relative;}
            .vfHelpText a span       {display: none;}
            .vfHelpText a:hover span {display: block;
            position:absolute;
            right:-15em; width:15em;
            z-index:100;
            border:1px solid #006bb;
            background-color:#FEFDB9;
            color:black;
            }
            
            .pop-wrap, .pop-wrap-main-message {
            position:fixed;
            top: 20%;
            left: 50%;
            z-index: 9999;
            width:90%;
            max-width:35rem;
            }
            
            .custPopup, .custPopup-main-message{
            font-family:"arial", helvetica, sans-serif;
            position: relative;
            background: white;
            border: 1px solid #006bb6;
            border-radius: .25rem;
            top: -20%;
            left: -50%;
            padding:1rem;
            width: 100%;
            height: auto;
            padding: 5% 15% 15% 10%;
            }
            
            .pop-wrap-main-message {top: 1%}
            .custPopup-main-message{top: 0; padding:0 1rem 0;}
            
            .popupBackground{
            position: fixed;
            background: rgba(0,0,0,.4);
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 9998;
            }
            
            .labelCol{width:180px;}
            .sideNav {
            position: fixed;
            z-index: 99;
            top: 140px;
            left: 5px;
        }
        .sideNav .navMenu {font-weight : 900;color:#0076d2;text-decoration:none;}
        .sideNav a {
            text-decoration : none !important;
        }
        header,main {max-width : 1000px !important;}        
        </style>
    <script>
     var listSize;    
    function formatDate(date) {
            var d = new Date(date),
            month = '' + (d.getMonth() + 1),
            day = '' + d.getDate(),
            year = d.getFullYear();
            
            if (month.length < 2) month = '0' + month;
            if (day.length < 2) day = '0' + day;
            
            return [month,day,year].join('/');
            }
    
    $(document).ready(function(){
        
       
        $(".numeric").keyup(function(){
           
            var x = $(".a").val();
            if(validate(x)){
                alert('Please Enter Valid Home Telephone');
            }
            var b = $(".b").val();
            if(validate(b)){
                alert('Please Enter Valid Work Telephone');
            }
            var c = $(".c").val();
            if(validate(c)){
                alert('Please Enter Valid Mobile Telephone');
            }
            
            var d = $(".d").val();
            if(validate(d)){
                alert('Please Enter Valid Telephone number');
            }
   
        });
        $(".phonecheck").click(function(){
            
            var x = $(".a").val();
            
            if(validate(x)){
                alert('Please Enter Valid Home Telephone');
                return false;
             }
             
            else if(x !='')
            {
                  x= x.replace("(", "");
                  x= x.replace(")", "");
                  x= x.replace("-", "");
                  x= x.replace(" ", "");
                 if(x.length<10 || x.length>10)
                 {
                  alert('Please Enter 10 digit Home Telephone');
                  return false;
                 }
            }
            
            var b = $(".b").val();
            
            if(validate(b)){
                alert('Please Enter Valid Work Telephone');
                return false;
             }
             
            else if(b !='')
            {
                  b= b.replace("(", "");
                  b= b.replace(")", "");
                  b= b.replace("-", "");
                  b= b.replace(" ", "");
                 if(b.length<10 || b.length>10)
                 {
                  alert('Please Enter 10 digit Work Telephone');
                  return false;
                 }
            }
            
            var c = $(".c").val();
            
            if(validate(c)){
                alert('Please Enter Valid Mobile Telephone');
                return false;
             }
             
            else if(c !='')
            {
                  c= c.replace("(", "");
                  c= c.replace(")", "");
                  c= c.replace("-", "");
                  c= c.replace(" ", "");
                 if(c.length<10 || c.length>10)
                 {
                  alert('Please Enter 10 digit Mobile Telephone');
                  return false;
                 }
            }
            
            var d = $(".c").val();
            
            if(validate(d)){
                alert('Please Enter Valid Telephone Number');
                return false;
             }
             
            else if(d!='')
            {
                  d= d.replace("(", "");
                  d= d.replace(")", "");
                  d= d.replace("-", "");
                  d= d.replace(" ", "");
                 if(d.length<10 || d.length>10)
                 {
                  alert('Please Enter 10 digit Telephone Number');
                  return false;
                 }
            }
            
              
        });      
       
        
        function validate(a)
        {
            var x = a;
            x= x.replace("(", "");
            x= x.replace(")", "");
            x= x.replace("-", "");
            x= x.replace(" ", "");
        
            if(x != '')
            {
                if(!$.isNumeric(x))
                   return true;
            }
        }
        
          $('.style1').change(function(){
            
            if( $(this).val() == 'No'){
                $('.Yes').removeClass('required');
                $('.Yes').css('border', '1px #ccc solid');
               
            }
            else if($(this).val() == null || $(this).val() == "" ){
                $('.Yes').removeClass('required');
                $('.Yes').css('border', '1px #ccc solid');
            
            }
            else if($(this).val() == 'Yes' && ($('.Yes').val() == null || $('.Yes').val() == "")){                   
                $('.Yes').addClass('required');
                $('.Yes').css('border', '2px red solid');
                
            }
    
        });                
        
    });
    
     function ClickToValidate(){       
        
           var runBool = true; 
           
           
           
             if( $('.style1').val() == 'No'){
             
                $('.Yes').removeClass('required');
                $('.Yes').css('border', '1px #ccc solid');
               
            }
            else if($('.style1').val() == null || $('.style1').val() == "" ){
                
                $('.Yes').removeClass('required');
                $('.Yes').css('border', '1px #ccc solid');
            
            }
            
            
           
           $('.required').each(function(){
               if($(this).val() == '' || $(this).val() == null ){
                   $('.Yes').css('border', '2px red solid');
                   runBool = false;
                   alert("Please fill all required fields");                   
                   return false;
               }
                  
           });
           
           if(!runBool){
                  validateEmail();              
                  $('.Yes').css('border', '2px red solid');
                  return false;
              }
           else{               
               var isEmail = validateEmail();
                  if(!isEmail){
                     return false
                  }
                  else{
                      return true;
                  }
           }
        }
    
       
       function validateEmail() {
       
       var isBool=true;
       
       $('.emailValue').each(function(){
       
       var filter = /^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/;
            if($(this).val()!= '' && $(this).val()!= null){
                if (!filter.test($(this).val())) {
                    isBool = false;
                    alert('Please Enter Valid Email-'+$(this).val());
                    if($('.Yes').val() == "" || $('.Yes').val() == null){
                        $('.Yes').css('border', '2px red solid');
                    }
                }
            }
            
        }); 
       if(!isBool ){
            return false;
           }
           else{
             var n = validatePhone();                
              if(!n){
              
              return false;
              }
              else{            
                  
               $('.Yes').css('border', '1px #ccc solid');
               return true;
               }
        }
      }
     
     function validatePhone() {
       
        var bool = false;
        for(var i=0; i<=listSize; i++){
            if($('.home'+i).val().length < 1 && $('.mobile'+i).val().length < 1 &&  $('.work'+i).val().length <1 && !bool)
                bool = true;
            }  
        if(bool){
            alert("Please fill any One of the Telephone Number");
            return false;
        }
        else {
        var d = DynamicSelect();        
            if(!d){
            return false;
            }
            else{
            return true;
            }
        }
        
     }
     
     
     function DynamicSelect(){
        var bool = true;
             $(".dynamicclass option:selected").each(function () {
                    var $this = $(this);
                    var selText;
                    if ($this.length) {
                        selText = $this.text();
                        }
                        if($(".dynamicclass").val() != null){
                            if(selText == 'Other' && $('.race').val().length<1){                         
                                    bool = false;
                            }
                           else{
                            bool =true;                     
                            }
                    }
                    else{
                    bool =true;                     
                    }
                });
                
                if(!bool){                                       
                 $('.race').addClass('required');
                 $('.race').css('border', '2px red solid');
                return false;
                }
                else{
                $('.race').removeClass('required');
                $('.race').css('border', '2px #ccc solid');
                return true;
                }
        
        
        }
     
    </script>
    
    <body class="vcp vcpactivelogin full registered profile"> 
       
       <apex:include pageName="active_header" id="pheaderActive"  rendered="{!if($Profile.Name="Active Volunteer",true,false)}" />
       <apex:include pageName="active_header_Inside_Salesforce" id="pheader" rendered="{!if($Profile.Name<>"Active Volunteer",true,false)}" />             
       <main role="main" class="container">
        <div class="sideNav">
            <!--<a data-toggle="collapse" href="#childForm">
                [+]                       
            </a>--> 
            <a class="navMenu" href="{!childForm}">Wish Child Form</a>
            <!--<div id="childForm" class="panel-collapse collapse">
                <a href="#mainSec">Main Section</a><br/> 
                <a href="#myFav">My Favourites</a><br/> 
                <a href="#otherFav">Other Favourites</a>                    
            </div>-->
            <br/>
            <a data-toggle="collapse" href="#familyForm">
                [+]                       
            </a>
            <a class="navMenu" href="{!familyForm}">Wish Family Form</a>
            <div id="familyForm" class="panel-collapse collapse">
           
                <a href="#parentInfo"> Parent/Legal Guardian</a><br/> 
                <a href="#reqSign">Required Signatures</a><br/> 
                <a href="#participantsInfo">Participants Info</a>                     
            </div>
            <br/>
          <!--  <a data-toggle="collapse" href="#infoForm">
                [+]                       
            </a>-->
            <a class="navMenu" href="{!infoForm}">Wish Information Form</a>
           <!-- <div id="infoForm" class="panel-collapse collapse">
                <a href="#schedule">Scheduling</a><br/> 
                <a href="#driverInfo">Driver Information</a><br/> 
                <a href="#medInfo">Medical Information</a><br/> 
                <a href="#travelInfo">Travel Information</a>                     
            </div>-->
                </div>    
    <apex:form id="frm">       
        <apex:pageblock id="membAdd">
             <apex:pageMessages />
            <div class="container"> 
             <div class="alert alert-danger">
                   
              </div>
               <!-- <div class="row header-padding">
                    <apex:image url="{!URLFOR($Resource.MakeAWishAmericaDesign,'images/MakeAWishAmerica.PNG')}" styleClass="header-logo"/>
                    <center><p class="header-text">WISH FAMILY FORM</p></center>
                </div> -->
                <div class="container-body">
                    <div class="row top-space" id="parentInfo">
                        <div class="row">
                            <div class="col-lg-2 text-imp lineHeight">Wish Child Name:</div>
                            <div class="col-lg-3"><apex:inputText value="{!currWishChild.FirstName__c}" html-placeholder="FirstName" styleClass="form-control" style="border-left:5px solid red"/></div>
                            <div class="col-lg-3"><apex:inputText value="{!currWishChild.Middle_Name__c}"  html-placeholder="MiddleName" styleClass="form-control"/></div>
                            <div class="col-lg-3"><apex:inputText value="{!currWishChild.LastName__c}" styleClass="form-control" html-placeholder="LastName" style="border-left:5px solid red"/></div>
                        </div>
                        <apex:outputpanel >
                        <div class="parent-info">
                            <apex:variable value="{!0}" var="cnt"/>
                            <apex:repeat value="{!wishFamilyWrapList}" var="wishFamilContact">
                                <div class="row top-space">
                                    <div class="form-group col-sm-4">
                                        <label for="email">Parent/Legal Guardian:</label>
                                        <apex:inputText value="{!wishFamilContact.firstName}" html-placeholder="First Name" styleClass="form-control fname{!cnt} required" style="border-left:5px solid red"/>
                                    </div>
                                    <div class="form-group col-sm-4">
                                        <label for="email">Middle Name</label>
                                        <apex:inputText value="{!wishFamilContact.MiddleName}"  styleClass="form-control"/>
                                    </div>
                                    <div class="form-group col-sm-4">
                                        <label for="email">Last Name</label>
                                        <apex:inputText value="{!wishFamilContact.lastName}" styleClass="form-control lname{!cnt} required" style="border-left:5px solid red"/>
                                    </div>
                                    <div class="form-group col-sm-4">
                                        <label for="email">Relationship :</label>
                                        <apex:selectList value="{!wishFamilContact.Relationship}" multiselect="false" size="1" styleClass="form-control relation{!cnt} required" style="border-left:5px solid red">
                                           <apex:selectOption itemlabel="Please Select" itemValue=""/>
                                           <apex:selectOptions value="{!Relationships}" />
                                        </apex:selectList>
                                       
                                    </div>
                                    
                                  
                                    <div class="form-group col-sm-4">
                                        <label for="email">Home Telephone:</label>
                                        <apex:inputText value="{!wishFamilContact.homeTelephone}"  styleClass="form-control numeric a home{!cnt} homePhone" style="border-left:1px solid #dcdcdc"/>
                                    </div>

                                    <div class="row"> 
                                    <div class="form-group col-sm-4">
                                        <label for="email">Work Telephone:</label>
                                        <apex:inputText value="{!wishFamilContact.workTelephone}"  styleClass="form-control numeric b work{!cnt} workPhone" style="border-left:1px solid #dcdcdc"/>
                                    </div>
                                    </div>
                                    
                                    <div class="form-group col-sm-4">
                                        <label for="email">Mobile Telephone :</label>
                                        <apex:inputText value="{!wishFamilContact.mobileTelephone}" styleClass="form-control numeric c mobile{!cnt} mobilePhone" style="border-left:1px solid #dcdcdc"/>
                                    </div>
                                    <div class="form-group col-sm-4">
                                        <label for="email">Email:</label>
                                        <apex:inputText value="{!wishFamilContact.Email}" styleClass="form-control email{!cnt} required" style="border-left:5px solid red"/>
                                    </div>
                                    <div class="form-group col-sm-4">
                                        <label for="email">DOB:</label>
                                        <div class="form-group input-group">
                                            <label class="input-group-btn" for="date-input" style="cursor:pointer">
                                                <span class="btn btn-default">
                                                    <span class="fa fa-calendar"></span>
                                                </span>
                                            </label>
                                            <apex:inputText value="{!wishFamilContact.dob}" styleClass="form-control date-input dob{!cnt} required" id="date-input" style="height:38px;border-left:5px solid red"/>
                                        </div> 
                                    </div>
                                    <div class="form-group col-sm-4" style="margin-top:27px">
                                        <apex:commandlink immediate="true" action="{!removeFamily}" reRender="membAdd">
                                            <apex:image url="{!URLFOR($Resource.MakeAWishAmericaDesign,'images/Remove.png')}" style="height:32px"></apex:image>Remove Contact
                                            <apex:param name="index" value="{!cnt}"/>
                                        </apex:commandlink>
                                         <script type="text/javascript">
                                            listSize = {!cnt};
                                         </script>
                                        <apex:variable var="cnt" value="{!cnt+1}"/>
                                    </div>
                                </div>
                                
                                <hr/>
                            </apex:repeat>
                        </div>
                      </apex:outputpanel>
                          <apex:commandLink value="Add Family" action="{!addFamily}" reRender="membAdd"   styleClass="btn btn-default pull-left top-space"/>     
                    </div>
                    
                     <div class="row pad-clear">
                            <p>
                                <b>Prior Wish: </b>Has your child ever had a wish granted or been considered by Make-A-Wish® or any other
                                wish-granting organization? <apex:inputField value="{!currWishChild.Already_wish_granted_by_MAW_Other_Org__c}" styleClass="form-control style1"/> <br/>
                                *If yes, please indicate the organizations name, the wish, and the date it was or will be granted. 
                                <apex:inputField value="{!currWishChild.If_yes_Enter_Org_Name_Wish_Date_it_wa__c}"   styleClass="form-control Yes required" /> <br/>
                                
                                <center><i>A wish with another organization may not be pursued prior to completion of a Make-A-Wish experience. </i></center>
                            </p>
                            <p>
                                <b>Social Media:</b> Make-A-Wish would like to stay connected through social media. If interested, please
                                provide contact information for each site on which you are active
                                <apex:inputfield value="{!currWishChild.Social_Media_Link__c}"   styleClass="form-control" />
                            </p>    
                       </div>
                      <div class="row top-space pad15" id="reqSign">
                            <div class="panel panel-default">
                                <div class="panel-body">
                                    <p class="assistance" style="margin-left:39%">Required Signatures</p>
                                    <p>
                                        <b>I understand and agree:</b>
                                    </p>
                                    <p>
                                        <b>1. That no promises or assurances whatsoever have been made to me by any
                                            representative of Make-A-Wish regarding the requested wish;</b>
                                    </p>
                                    <p>
                                        <b> 2. That the granting of any wish and the participation of any person in the wish is
                                            contingent upon approval by Make-A-Wish and the child’s physician, as well as full
                                            compliance with all conditions, qualifications, and restrictions designated by
                                            Make-A-Wish;</b>
                                    </p>
                                    <p>
                                        <b>3. That all individuals with parental or custodial rights for the child must approve
                                            the wish before it is granted and must sign all necessary documents; and</b>
                                    </p>
                                    <p>
                                        <b> 4. That the receipt of a wish may impact the eligibility for public assistance and/or
                                            benefits.</b>
                                    </p>
                                    
                                    <p>
                                        <b>I promise that the information provided by me is true and complete to the best of my
                                            knowledge.</b>  
                                    </p> 
                                
                                </div>
                            </div>
                        </div>  
                        
                         <div class="row top-space pad15">
                            <div class="panel panel-default">
                                <div class="panel-body">
                                    <center><p class="assistance">Names of Make-A-Wish representatives assisting in the completion of this form.</p></center>
                                    <U class="pull-left" style="font-size:19px"><apex:inputText value="{!caseTeamMemberNo1}" /></U>  
                                    <U class="pull-right" style="font-size:19px"><apex:inputText value="{!caseTeamMemberNo2}" /></U> 
                                </div>
                            </div>
                        </div>
                        
                        
                     <!--    Parent/Legal Guardian Signature : <apex:inputField value="{!currWishChild.Parent_Legal_Guardian_Signature__c}" styleClass="form-control"/> <br/> -->
                        Requested Wish Participants, as indicated by the wish child. Please list legal names of all requested
                        wish participants and relevant information.<br/> 
                        <b>NOTE:</b> Make-A-Wish cannot guarantee the participation of any
                        individual(s) listed below. <br/>
                        
                         <div class="row top-space pad15" id="participantsInfo">
                            <table class="responsive table-striped">
                                <tbody>
                                    <tr>
                                        <th class="mobiltxt" colspan="2">Participants Info:</th>
                                        <th>First Name</th>
                                        <th>Middle Name</th>
                                        <th>Last Name</th>
                                        <th>Relationship To Wish Child</th>
                                        <th>Date of Birth</th>
                                        <th>Email</th>
                                        <th>T-Shirt Size</th>
                                        <th>Medical Needs</th>
                                        <th>Residing with Wish Child</th>
                                        <th>Remove</th>
                                    </tr>
                                    <apex:variable value="{!0}" var="part"/>
                                    <apex:repeat value="{!wishParticipantList}" var="wishFamilContact">
                                        <tr>
                                            <td class="mobiltxt"></td>
                                            <td><apex:inputText value="{!wishFamilContact.FirstName}" styleClass="form-control partFName{!part} required" style="border-left:5px solid red"/></td>
                                            <td><apex:inputText value="{!wishFamilContact.MiddleName}" styleClass="form-control" /></td>
                                            <td><apex:inputText value="{!wishFamilContact.LastName}" styleClass="form-control partLName{!part} required"  style="border-left:5px solid red"/></td>
                                            <td> <apex:selectList value="{!wishFamilContact.relationship}" multiselect="false" size="1" styleClass="form-control partRelation{!part} required" style="border-left:5px solid red">
                                                <apex:selectOption itemlabel="Please Select" itemValue=""/>
                                                <apex:selectOptions value="{!Relationships}" />
                                                </apex:selectList>
                                            </td>                          
                                            <td>
                                                <div class="input-group"><label class="input-group-addon btn" for="date"><span class="fa fa-calendar open-datetimepicker"></span></label>
                                                    <apex:inputText value="{!wishFamilContact.dob}" styleClass="form-control date-input" id="date-input" style="height: 38px;"/>
                                                </div>
                                           </td>
                                            <td><apex:inputText value="{!wishFamilContact.Email}" styleClass="form-control emailValue" /></td>
                                            <td><apex:inputText value="{!wishFamilContact.tshirtSize}" styleClass="form-control" /></td>
                                            <td> <apex:selectList value="{!wishFamilContact.medicalNeeds}" multiselect="false" size="1" styleClass="form-control partRelation{!part} required" style="border-left:5px solid red">
                                                    <apex:selectOption itemlabel="Please Select" itemValue=""/>
                                                    <apex:selectOption itemlabel="Yes" itemValue="Yes"/>
                                                    <apex:selectOption itemlabel="No" itemValue="Nno"/>
                                                </apex:selectList>
                                            </td>
                                            <td> <apex:selectList value="{!wishFamilContact.residingWishMedical}" multiselect="false" size="1" styleClass="form-control partRelation{!part} required" style="border-left:5px solid red">
                                                    <apex:selectOption itemlabel="Please Select" itemValue=""/>
                                                    <apex:selectOption itemlabel="Yes" itemValue="Yes"/>
                                                    <apex:selectOption itemlabel="No" itemValue="Nno"/>
                                                </apex:selectList>
                                            </td>
                                          
                                          <!--  <td><apex:inputCheckbox value="{!wishFamilContact.medicalNeeds}" /></td>
                                            <td><apex:inputcheckbox value="{!wishFamilContact.residingWishMedical}" /></td>-->
                                            
                                            <td><apex:commandLink id="link"  action="{!removeParticipants}" immediate="true" reRender="membAdd">
                                                <apex:image url="{!URLFOR($Resource.MakeAWishAmericaDesign,'images/Remove.png')}" style="height:32px"></apex:image>
                                                <apex:param name="Participant" value="{!part}"/>
                                                </apex:commandLink>
                                                <apex:variable var="part" value="{!part+1}"/> 
                                            </td>
                                        </tr>   
                                        
                                    </apex:repeat>
                                </tbody>
                            </table>
                        </div>
                        
                         <apex:commandLink value="Add Row"  action="{!addParticipants}" reRender="membAdd"  styleClass="btn btn-default pull-left"/> <br/> 
             
                        <div class="row top-space1">
                        <p><label><b>Non-Participating Adult Emergency Contact</b></label></p>
                            <div class="form-group col-md-4">
                                <label for="email">First Name</label>
                                <apex:inputField value="{!currWishChild.Emergency_First_Name__c}" html-placeholder="First Name" styleClass="form-control required" style="border-left:5px solid red"/>
                            </div>
                            
                            <div class="form-group col-md-4">
                                <label for="email">Middle Name</label>
                                <apex:inputField value="{!currWishChild.Emergency_Middle_Name__c}" html-placeholder="Middle Name" styleClass="form-control"/>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="email">Last Name</label>
                                <apex:inputField value="{!currWishChild.Emergency_Last_Name__c}" html-placeholder="Last Name" styleClass="form-control required" style="border-left:5px solid red"/>
                            </div>
                            
                            <div class="form-group col-md-4">
                                <label for="email">Telephone :</label>
                                <apex:inputField value="{!currWishChild.Emergency_Mobilephone__c}" styleClass="form-control numeric d required" style="border-left:5px solid red"/>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="email">Relationship to Wish Child :</label>
                                 <apex:selectList value="{!currWishChild.Emergency_Relationship__c}" multiselect="false" size="1" styleClass="form-control required" style="border-left:5px solid red">
                                           <apex:selectOption itemlabel="Please Select" itemValue=""/>
                                           <apex:selectOptions value="{!Relationships}" />
                                 </apex:selectList>
                              
                            </div>
                            <div class="form-group col-md-4">
                                <label for="email">Email: </label>
                                <apex:inputField value="{!currWishChild.Emergency_Email__c}" styleClass="form-control"/>
                            </div>
                        </div>
                        <p><br/>
                            <b>Race Ethnicity:</b> The following information is <b>OPTIONAL</b> and will be used for <b>STATISTICAL PURPOSES
                            ONLY.</b> The response should be provided by the child or his or her parent(s)/guardian(s) if they choose to do so.
                            Please select one or more of the choices as appropriate. <br/>
                            <apex:inputField value="{!currWishChild.Race_Ethnicity__c}" styleClass="form-control dynamicclass"/>
                            If Other,
                             <apex:inputField value="{!currWishChild.Race_Ethnicity_Details__c}" styleClass="form-control dynamicclass race" />
                        </p>
                   
                
                
                <div class="row" style="margin-left: 25%;">
                        <div class="col-sm-12">
                            <div class="text-center">
                                <apex:Commandbutton value="Back" action="{!BackToWCF}" styleClass="btn btn-default mg-rt" immediate="true"/>
                                <apex:Commandbutton value="Save" action="{!SaveandwishFamilyExit}" styleClass="btn btn-default mg-rt phonecheck" onclick="return ClickToValidate();"/>
                                <apex:Commandbutton value="Next" action="{!WFFNext}" styleClass="btn btn-default mg-rt phonecheck" onclick="return ClickToValidate();"/>
                                 <apex:Commandbutton value="Exit" action="{!cancelfunction}" style="margin-left: 10px;" reRender="popup"  styleClass="btn btn-default" immediate="true"/>
                            </div>
                        </div>
                </div>
            </div>
          </div>  
            <script type="text/javascript">
            
            $(function(){
           
                $('table.responsive').ngResponsiveTables({
                    smallPaddingCharNo: 13,
                    mediumPaddingCharNo: 18,
                    largePaddingCharNo: 30
                });
            });
            </script> 
          <script>
       
             $(".date-input").datepicker({
                autoclose: true,
                endDate: '+0d'
            });
           $(".date-input").each(function(){
           
             if($(this).val() != ""){
             var date = formatDate($(this).val());
               $(this).val(date);
            }
            
            });
           
            </script> 
        </apex:pageblock>
      
  <apex:outputPanel id="popup">
   <apex:outputPanel rendered="{!displayPopup }">
       
    <div class="pop-wrap">
        <div class="custPopup">
         <apex:pageMessages id="showmsg13"/> 
            <div class="container">
                <div class="row">
                    <div class="row" style="padding:10px">
                      <div class="col-xs-12 col-sm-12 col-md-12" style="margin-top:20px">
                        <apex:commandButton value="Save and Exit" styleClass="col-xs-12 col-sm-6 col-md-4 btn-md"  action="{!SavewithExit}" style="height: 2.75rem;margin-top: 3% !important;width: 150px !important;"/>
                        <apex:commandButton value="Exit without Saving" styleClass="col-xs-12 col-sm-6 col-md-4 btn-md"  action="{!exitWithOutSave}"  style="height: 2.75rem; margin-left: 5%;margin-top: 3% !important;width: 185px !important;"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</apex:outputPanel>
</apex:outputPanel>
   
    </apex:form>
     
   </main>
 </body>
    
   <apex:include pageName="WishFamilyForm_footer" id="pfooter" />
</apex:page>