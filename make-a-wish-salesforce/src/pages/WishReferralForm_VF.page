<!-- Revision History:
12/30/2019 - Chris Smith - SIW-294 
// 06/02/2020 - Manoj /- SIW-275 Added New response option for question 'IS THERE A MEDICAL REASON WHY WE NEED TO MOVE QUICKLY?' and one more question when response is selected as Yes in this question
// 06/02/2020 - Manoj - SIW-487 Added One New question as mentioned in ticket.
// 31/03/2020 - Manoj - SIW-487 Allowing users to proceed with form when relationship is Parent\Guardin and option has been selected 'No, I wish to proceed'.
// 31/03/2020 - Manoj - SIW-370 Make Primary language as required field
// 14/04/2020 - Manoj - SIW-569 Changed unsupported method 'includes' to 'indexOf' for IE11 issue
// 17/04/2020 - Manoj - SIW-575 Modified methods 'languageselection' and 'checkPrimLangRequired' for Mobile issue
// 27/04/2020 - Manoj - SIW-556 : Modified method 'getInputValue' to allow users to proceed even when select No in question "HAS THE REFERRAL BEEN DISCUSSED WITH THE CHILD'S HEALTHCARE PROVIDER?"
// 02/06/2020 - Manoj - SIW-557: Updated placeholder to 'Acute Lymphoblastic Leukemia (ALL)' from 'Malignant Neoplasm' and to 'C91.0' from 'C00'
// 16/06/2020 - Manoj - SIW-606: Changed method to navigate to home site
// 29/07/2020 - Manoj - SIW-378 : hide Questions as mentioned in ticket
// 03/09/2020 - Michelle / Gus - ODP9,10,11,12,14,38 : Revamping Wish Referral Form
-->
<apex:page controller="WishReferralForm_AC" showHeader="false" applyBodyTag="false" sidebar="false"
           standardStylesheets="false" docType="html-5.0" cache="false">
    <script>
    //Adding Other Language field
    function languageselection(selectedlanguageId) {
        var selectedArray = new Array();
        var selObj = document.getElementById(selectedlanguageId);
        var i;
        var count = 0;
        for (i = 0; i < selObj.options.length; i++) {
            if (selObj.options[i].selected) {
                selectedArray[count] = selObj.options[i].value;
                count++;
            }
        }
        console.log(selectedArray);
        if (selectedArray.indexOf("Other") > -1) {//SIW-569 Changed unsupported method 'includes' to 'indexOf' for IE11 issue
            document.getElementById('otherlanguagediv').style.display = 'block';
        } else {
            document.getElementsByClassName('otherlanguageclass')[0].value = '';
            document.getElementById('otherlanguagediv').style.display = 'none';
        }
        //SIW-370 changed to display and hide primary language input box red or grey
        var elemsDiv = document.querySelectorAll('[id$="plang_chosen"]');
        var elems = document.querySelectorAll('[id$="plang"]');
        var e = document.querySelectorAll('[id$="langError"]');
        var lab = document.querySelectorAll('[id$="langLabel"]');
        if (elems[0].value == '') {
            e[0].style.display = "block";
            lab[0].style.color = "red";
            if (elemsDiv[0].querySelectorAll('div').length > 0) {
                elemsDiv[0].querySelectorAll('div')[0].style.border = "1px solid red";
            } else {
                elems[0].style.border = "1px solid red";
            }
        } else {
            e[0].style.display = "none";
            lab[0].style.color = "#75787B";
            if (elemsDiv[0].querySelectorAll('div').length > 0) {
                elemsDiv[0].querySelectorAll('div')[0].style.border = "1px solid rgba(0,0,0,.15)";
            } else {
                elems[0].style.border = "1px solid rgba(0,0,0,.15)";
            }
        }
    }
    </script>
    <body>
    <apex:form id="frm" styleClass="portal inquiry">
        <apex:outputpanel rendered="{!displayAckMsg == false}" id="panel">
            <fieldset>
                <apex:pagemessages id="msg"/>
                <apex:inputText value="{!refChildFormParent}" id="childToParent" styleClass="chid-value"
                                style="display:none"/>
                <legend>{!$Label.Wish_Referral_Relationship_to_Child}</legend>
                <div class="row" style="margin-bottom:2rem">
                    <div class="form-group r2c mySelect23 radioClickable radioSection">
                        <apex:selectRadio value="{!currLead.Relationship_to_child__c}" id="relationToChild"
                                          layout="pageDirection" onchange="changeRelationship(this.id, this.value)"
                                          styleClass="relationToChildClass">
                            <apex:selectOptions value="{!Relationships}"/>
                        </apex:selectRadio>
                    </div>
                </div>
                <div class="form-group row" style="display: none;" id="healthProvider">
                    <label class="col-sm-3">{!$Label.Wish_Referral_Discussed_Healthcare_Provider}</label>
                    <div class="col-sm-6">
                        <apex:inputField value="{!currLead.Is_wish_referral_discussed_health_del__c}"
                                         styleClass="form-control col-xs-12 c-select required discussedProvider searchFieldDis"
                                         id="discussed-with-provider" onchange="getInputValue();">
                            <!--SIW-487: Added new field to capture the response-->
                        </apex:inputField>
                        <span class="discussedProviderError text-muted" id="hhh"></span>
                    </div>
                </div>
                <div class="form-group row" style="display: none;">
                    <label class="col-sm-3">{!$Label.Wish_Referral_Is_Family_Aware_of_Referral}</label>
                    <div class="col-sm-6">
                        <apex:inputField value="{!currLead.is_Family_Aware_of_Referral__c}"
                                         styleClass="form-control col-xs-12 c-select familyAware searchFieldAwa"
                                         id="aware-of-referral" onchange="getInputValue();">
                        </apex:inputField>
                        <span class="familyAwareError text-muted"></span>
                    </div>
                </div>
                <div class="form-group row medicalProvider">
                    <label class="col-sm-3">{!$Label.Wish_Referral_Medical_Professional_Category}</label>
                    <div class="col-sm-6">
                        <apex:inputField value="{!currLead.Referring_MP_Category__c}"
                                         styleClass="form-control col-xs-12 col-sm-12 c-select medProvCat refmpcategory"
                                         id="refmpcategory"/>
                    </div>
                </div>
                <div class="form-group row other">
                    <label class="col-sm-3">{!$Label.Wish_Referral_Provide_Relationship_to_Child}</label>
                    <div class="col-sm-6">
                        <apex:inputField value="{!currLead.Other_Relationship_To_Child__c}"
                                         styleClass="form-control col-xs-12 col-sm-12" id="r2cManualInput"
                                         html-placeholder="{!$Label.Wish_Referral_Placeholder_Example_Friend_Friend_of_family}"/>
                    </div>
                </div>
                <div class="form-group row medprovcat-other-wrap">
                    <label class="col-sm-3">{!$Label.Wish_Referral_Other_Medical_Professional_Category}</label>
                    <div class="col-sm-6">
                        <apex:inputField styleClass="form-control medprovcat-other" id="medprovcat" html-maxlength="100"
                                         html-placeholder="{!$Label.Wish_Referral_Placeholder_Other_Medical_Professional_Category}"
                                         value="{!currLead.Other_Medical_Provider_Category__c}"/>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3">{!$Label.Wish_Referral_Hear_About_Make_A_Wish}</label>
                    <div class="col-sm-6">
                        <apex:inputField value="{!currLead.How_Did_you_hear_about_Make_A_Wish__c}"
                                         styleClass="form-control col-xs-12 c-select required" id="referred-by"/>
                    </div>
                </div>
            </fieldset>
            <!--- For Yes Family Aware -->
            <div class="shownOnYes fam-aware-overlay">
                <!-- referrer info -->
                <fieldset>
                    <apex:pagemessages id="msg1"/>
                    <legend>{!$Label.Wish_Referral_Referrer_Information}</legend>
                    <div class="referrerInfo">
                        <div class="refToParent">
                            <div class="refToRepeat">
                                <div class="form-group row">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_Name}</label></div>
                                    <div class="col-sm-6">
                                        <apex:inputText value="{!currLead.Referrer_FirstName__c}"
                                                        styleClass="form-control name-group rfirstname"
                                                        html-placeholder="{!$Label.Wish_Referral_Placeholder_First_Name}"
                                                        id="rfirstname" maxlength="40"/>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3"><label class="sr-only"
                                                                 aria-label="last_name">{!$Label.Wish_Referral_Last_Name}</label>
                                    </div>
                                    <div class="col-sm-6 lastname">
                                        <apex:inputText value="{!currLead.Referrer_Last_Name__c}"
                                                        styleClass="form-control name-group rlastname"
                                                        html-placeholder="{!$Label.Wish_Referral_Last_Name}"
                                                        id="rlastname" maxlength="40"/>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_Phone}</label></div>
                                    <div class="col-sm-6">
                                        <apex:inputText value="{!currLead.Referrer_Phone__c}"
                                                        styleClass="form-control rphone phonemask numbers-only phonechk-std"
                                                        html-placeholder="(000) 000-0000" id="rphone"
                                                        html-pattern=".{10,14}" maxlength="14"/>
                                    </div>
                                </div>
                                <div class="row" id="remaildiv">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_Email}</label></div>
                                    <div class="form-group col-sm-6">
                                        <apex:inputText value="{!remailOne}" styleClass="form-control remail email-std"
                                                        html-placeholder="your_email@domain.com" id="remail"
                                                        maxlength="80"/>

                                    </div>
                                </div>
                                <div class="row" id="remail1div">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_Email}</label></div>
                                    <div class="form-group col-sm-6">
                                        <apex:inputText value="{!remailTwo}" styleClass="form-control remail1 email-std"
                                                        html-placeholder="your_email@domain.com" id="remail1"
                                                        maxlength="80"/>

                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_City}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Referrer_City__c}"
                                                    styleClass="form-control rcity alpha-only"
                                                    html-placeholder="{!$Label.Wish_Referral_City}" id="rcity"
                                                    maxlength="50"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Postal_Code}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Referrer_Zip__c}"
                                                    styleClass="form-control rpostalcode postalcode numbers-only"
                                                    html-placeholder="00000" maxlength="5" id="rpostalcode"/>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- REFERRER IS MEDICAL PROFESSIONAL -->
                    <div class="refToMP">
                        <div class="form-group row" style="margin-top:-40px;margin-botton:-20px;">
                            <div class="col-sm-9" style="line-height:25px;margin-top:-15px;">
                                <legend><span class="text-muted">{!$Label.Wish_Referral_Lookup_Instructions}</span></legend>
                            </div>
                        </div>
                        <div class="row" style="margin-top:-10px">
                            <div class="col-sm-3" style="padding-top:15px">
                                <label>{!$Label.Wish_Referral_Referring_Medical_Professional}</label>
                            </div>
                            <div class="col-sm-6" style="margin-bottom:-12px">
                                <div id="externalReferrerContactLookup"></div>
                                <apex:inputHidden id="externalReferrerContactLookupOutput"
                                                  value="{!mpHtfSearch.referringMedicalProfessionalId}"/>
                                <div style="opacity: 0;pointer-events: none;">
                                    <apex:inputText id="externalReferrerContactLookupValidation"/>
                                </div>
                                <apex:inputHidden id="referrerContactEmpty" value="{!referrerContactEmpty}"/>
                            </div>
                        </div>
                        <div class="refNewAff">
                            <div class="form-group row">
                                <div class="col-sm-3"></div>
                                <div class="col-sm-6" style="margin-top:-10px; text-align: center">
                                    <label>Please provide additional information (Optional)</label>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"/>
                                <div class="col-sm-6">
                                    <div style="display: flex; align-items: center;">
                                        <label style="width:85px">{!$Label.Wish_Referral_Phone}</label>
                                        <apex:inputText value="{!referrerNewAffPhone}"
                                                        styleClass="form-control refmpaffphone phonemask numbers-only"
                                                        html-placeholder="(000) 000-0000" id="refmpaffphone"
                                                        html-pattern=".{10,14}" maxlength="10"/>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"/>
                                <div class="col-sm-6">
                                    <div style="display: flex; align-items: center;">
                                        <label style="width:85px">{!$Label.Wish_Referral_Email}</label>
                                        <apex:inputText value="{!referrerNewAffEmail}"
                                                        styleClass="form-control email-std refmpaffemail"
                                                        html-placeholder="medicalprofessional_email@domain.com"
                                                        id="refmpaffemail"
                                                        maxlength="80"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-3"></div>
                            <div class="col-sm-6"><span class="field-word-seperator"></span></div>
                        </div>
                        <div class="form-group row newRefMpChk">
                            <div class="col-sm-12 offset-sm-3" style="margin-top:-10px">
                                <label class="c-input c-checkbox">
                                    <apex:inputCheckbox id="createNewRefMPchk"
                                                        onChange="onChangeCreateCheckbox(this.id, this.checked)"/>
                                    <span class="c-indicator sas"></span>
                                    {!$Label.Wish_Referral_Create_New_Medical_Professional}
                                </label>
                            </div>
                        </div>
                        <div class="refMpForm">
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Title}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputField value="{!currLead.Referring_MP_Salutation__c}"
                                                     styleClass="form-control col-xs-12 col-sm-12 c-select refmpsalutation"
                                                     id="refmpsalutation"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Name}</label></div>
                                <div class="col-sm-6 firstname">
                                    <apex:inputText value="{!currLead.Referring_MP_First_Name__c}"
                                                    styleClass="form-control name-group refmpfirstname"
                                                    html-placeholder="{!$Label.Wish_Referral_Placeholder_First_Name}"
                                                    id="refmpfirstname" maxlength="40"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label class="sr-only"
                                                             aria-label="last_name">{!$Label.Wish_Referral_Last_Name}</label>
                                </div>
                                <div class="col-sm-6 lastname">
                                    <apex:inputText value="{!currLead.Referring_MP_Last_Name__c}"
                                                    styleClass="form-control name-group refmplastname"
                                                    html-placeholder="{!$Label.Wish_Referral_Last_Name}"
                                                    id="refmplastname" maxlength="40"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Phone}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Referring_MP_Phone__c}"
                                                    styleClass="form-control refmpphone phonemask numbers-only refContact"
                                                    html-placeholder="(000) 000-0000" id="refmpphone"
                                                    html-pattern=".{10,14}" maxlength="10"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Email}</label></div>
                                <div class="form-group col-sm-6">
                                    <apex:inputText value="{!currLead.Referring_MP_Email__c}"
                                                    styleClass="form-control refmpemail email-std refContact"
                                                    html-placeholder="medicalprofessional_email@domain.com"
                                                    id="refmpemail" maxlength="80"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_City}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Referring_MP_City__c}"
                                                    styleClass="form-control refmpcity alpha-only"
                                                    html-placeholder="{!$Label.Wish_Referral_City}" id="refmpcity"
                                                    maxlength="50"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_State}</label></div>
                                <div class="col-sm-6">
                                    <apex:selectList size="1" id="refmpstate" value="{!currLead.Referring_MP_State__c}"
                                                     styleClass="form-control col-xs-12 c-select state refmpstate">
                                        <apex:selectOptions value="{!States}"/>
                                    </apex:selectList>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3">
                                    <label>{!$Label.Wish_Referral_Medical_Professional_Specialty}</label></div>
                                <div class="col-sm-6">
                                    <apex:selectList size="1" id="refmpspecialty"
                                                     value="{!currLead.Referring_MP_Specialty__c}"
                                                     styleClass="form-control col-xs-12 c-select refmpspecialty">
                                        <apex:selectOptions value="{!MedicalSpecialty}"/>
                                    </apex:selectList>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="padding-top: 25px">
                            <div class="col-sm-3" style="padding-top:15px">
                                <label>{!$Label.Wish_Referral_Referring_Hospital_Facility}</label></div>
                            <div class="col-sm-6" style="margin-bottom:-12px">
                                <div style="display: flex; align-items: center;">
                                    <label style="width:85px">{!$Label.Wish_Referral_State_Filter}:</label>
                                    <apex:selectList size="1" id="referrerAccountState"
                                                     styleClass="form-control col-xs-12 c-select stateOptional referrerAccountState"
                                                     onchange="updateHtfFilter('externalReferrerAccountLookup', this.value, 'Referring Hospital/Facility')">
                                        <apex:selectOptions value="{!FilterStateOptions}"/>
                                    </apex:selectList>
                                </div>
                                <div id="externalReferrerAccountLookup"></div>
                                <div style="opacity: 0;pointer-events: none;">
                                    <apex:inputText id="externalReferrerAccountLookupValidation"/>
                                </div>
                                <apex:inputHidden id="externalReferrerAccountLookupOutput"
                                                  value="{!mpHtfSearch.referringHospitalFacilityId}"/>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-3"></div>
                            <div class="col-sm-6"><span class="field-word-seperator"></span></div>
                        </div>
                        <div class="form-group row newRefHtfChk">
                            <div class="col-sm-12 offset-sm-3" style="margin-top:-10px">
                                <label class="c-input c-checkbox">
                                    <apex:inputCheckbox id="createNewRefHTFchk"
                                                        onChange="onChangeCreateCheckbox(this.id, this.checked)"/>
                                    <span class="c-indicator sas"></span>
                                    {!$Label.Wish_Referral_Create_New_Hospital_Facility}
                                </label>
                            </div>
                        </div>
                        <div class="refHtfForm">
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Name}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Referring_MP_HTF_Name__c}"
                                                    styleClass="form-control refhtfname"
                                                    html-placeholder="{!$Label.Wish_Referral_Name}" id="refhtfname"
                                                    maxlength="50"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Address}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Referring_MP_HTF_Street_Address__c}"
                                                    styleClass="form-control refhtfstreet"
                                                    html-placeholder="0000 NE 00 Ave" id="refhtfstreet" maxlength="40"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_City}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Referring_MP_HTF_City__c}"
                                                    styleClass="form-control refhtfcity alpha-only"
                                                    html-placeholder="{!$Label.Wish_Referral_City}" id="refhtfcity"
                                                    maxlength="50"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_State}</label></div>
                                <div class="col-sm-6">
                                    <apex:selectList size="1" id="refhtfstate"
                                                     value="{!currLead.Referring_MP_HTF_State__c}"
                                                     styleClass="form-control col-xs-12 c-select state refhtfstate">
                                        <apex:selectOptions value="{!States}"/>
                                    </apex:selectList>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Postal_Code}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Referring_MP_HTF_Zip_Code__c}"
                                                    styleClass="form-control refhtfzip numbers-only"
                                                    html-placeholder="00000" id="refhtfzip" maxlength="5"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>Facility {!$Label.Wish_Referral_Phone}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Referring_MP_HTF_Phone__c}"
                                                    styleClass="form-control refhtfphone phonemask numbers-only"
                                                    html-placeholder="(000) 000-0000" id="refhtfphone"
                                                    html-pattern=".{10,14}" maxlength="10"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_HTF_Department}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputField value="{!currLead.Referring_MP_HTF_Department__c}"
                                                     styleClass="form-control col-xs-12 col-sm-12 c-select optionApplicable refhtfdept"
                                                     html-placeholder="{!$Label.Wish_Referral_HTF_Department}"
                                                     id="refhtfdept"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>
                <!-- wish child info -->
                <fieldset>
                    <apex:pagemessages id="msg2"/>
                    <legend>{!$Label.Wish_Referral_Wish_Child_Information}</legend>
                    <div class="childToRepeat">
                        <div class="form-group row fullname">
                            <div class="col-sm-3"><label
                                        aria-labelledby="first_name">{!$Label.Wish_Referral_Name}</label></div>
                            <div class="col-xs-8 col-sm-4">
                                <apex:inputText value="{!currLead.FirstName}"
                                                styleClass="form-control name-group wcfirstname" id="wcfirstname"
                                                html-placeholder="{!$Label.Wish_Referral_Placeholder_First_Name}"
                                                maxlength="40"/>
                            </div>
                            <div class="col-xs-4 col-sm-2">
                                <label class="sr-only"
                                       aria-label="Middle Name">{!$Label.Wish_Referral_Middle_Initial}</label>
                                <apex:inputText value="{!currLead.Child_Middle_Initial__c}"
                                                styleClass="form-control middleinitial" maxlength="1"
                                                id="wcmiddleinitial" html-placeholder="M.I." title="Middle Initial"/>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-3"><label class="sr-only"
                                                         aria-label="last_name">{!$Label.Wish_Referral_Last_Name}</label>
                            </div>
                            <div class="col-sm-6 lastname">
                                <apex:inputText value="{!lastName}" styleClass="form-control name-group wclastname"
                                                html-placeholder="{!$Label.Wish_Referral_Last_Name}" id="wclastname"
                                                maxlength="40"/>
                            </div>
                        </div>
                    </div>
                    <!--SIW-237 Start: Added new field Preferred name -->
                    <div class="form-group row">
                        <div class="col-sm-3"></div>
                        <div class="col-sm-6">
                            <apex:inputText value="{!currLead.Preferred_Name__c}" styleClass="form-control"
                                            html-placeholder="{!$Label.Wish_Referral_Placeholder_Preferred_Name}"
                                            id="preName" maxlength="40"/>
                        </div>
                    </div>
                    <!--SIW-237 End -->
                    <div class="form-group row">
                        <div class="col-sm-3"><label>{!$Label.Wish_Referral_Gender}</label></div>
                        <div class="col-sm-6">
                            <apex:inputField value="{!currLead.Gender__c}" id="wcgender"
                                             styleClass="form-control col-xs-12 c-select chosen single"/>
                        </div>
                    </div>
                    <div class="form-group row self-desc" hidden="hidden">
                        <div class="col-sm-3"><label for="j_id0:frm:self-desc"
                                                     aria-labelledby="Self-Describe">{!$Label.Wish_Referral_Gender_Description}
                                <span>{!$Label.Wish_Referral_Gender_Self_Describe}</span></label></div>
                        <div class="col-sm-6">
                            <apex:inputTextarea styleClass="form-control self-desc-field"
                                                value="{!currLead.Self_describe_comment_box__c}" id="self-desc-tbox"
                                                html-placeholder="{!$Label.Wish_Referral_Placeholder_Description_Self_Describe}"/>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-3"><label>{!$Label.Wish_Referral_Age}</label></div>
                        <div class="col-sm-6">
                            <apex:inputField value="{!currLead.Child_Age__c}" id="wcage"
                                             styleClass="form-control col-xs-12 c-select childAge wcage">
                            </apex:inputField>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-3"><label>{!$Label.Wish_Referral_Date_of_Birth}</label></div>
                        <div class="col-sm-6">
                            <apex:inputField value="{!currLead.DOB__c}" styleClass="form-control date-std" id="wcdob"
                                             html-placeholder="mm/dd/yyyy"/>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-3">{!$Label.Wish_Referral_Child_Had_Prior_Wish}</label>
                        <div class="col-sm-6">
                            <apex:selectList value="{!currLead.Has_this_child_ever_received_prior_wish__c}"
                                             id="wcreceivedwish" size="1" multiselect="false"
                                             styleClass="form-control col-xs-12 c-select chosen single">
                                <apex:selectOption itemLabel="--None--" itemValue=""/>
                                <apex:selectOption itemLabel="{!$Label.Select_Option_Yes}"
                                                   itemValue="{!$Label.Select_Option_Yes}"/>
                                <apex:selectOption itemLabel="{!$Label.Select_Option_No}"
                                                   itemValue="{!$Label.Select_Option_No}"/>
                                <apex:selectOption itemLabel="{!$Label.Wish_Referral_Option_Not_Sure}"
                                                   itemValue="{!$Label.Wish_Referral_Option_Not_Sure}"/>
                            </apex:selectList>
                        </div>
                    </div>
                </fieldset>
                <apex:outputPanel id="family">
                    <!-- family info -->
                    <fieldset>
                        <apex:pagemessages id="msg3"/>
                        <legend>{!$Label.Wish_Referral_Family_Information} <span
                                    class="text-muted">{!$Label.Wish_Referral_Parent_or_Guardian} 1</span></legend>
                        <div class="form-group row">
                            <div class="col-sm-3"><label>{!$Label.Wish_Referral_Relationship_to_Child}</label></div>
                            <div class="col-sm-6">
                                <apex:selectList size="1" id="p-r2c-1"
                                                 value="{!currLead.Parent_Relationship_to_Child__c}"
                                                 styleClass="form-control col-xs-12 c-select">
                                    <apex:selectOptions value="{!RelationshipsToChild}"/>
                                </apex:selectList>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-3"><label>{!$Label.Wish_Referral_Name}</label></div>
                            <div class="col-sm-6">
                                <apex:inputText value="{!currLead.Parent_First_Name__c}"
                                                styleClass="form-control name-group pfirstname pfirstname1 alpha-only"
                                                id="pfirstname"
                                                html-placeholder="{!$Label.Wish_Referral_Placeholder_First_Name}"
                                                maxlength="40"/>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-3"><label class="sr-only"
                                                         aria-label="last_name">{!$Label.Wish_Referral_Last_Name}</label>
                            </div>
                            <div class="col-sm-6 lastname">
                                <apex:inputText value="{!currLead.Parent_Last_Name__c}"
                                                styleClass="form-control name-group plastname plastname1 alpha-only"
                                                html-placeholder="{!$Label.Wish_Referral_Last_Name}" id="plastname"
                                                maxlength="40"/>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-3"><label>{!$Label.Wish_Referral_Address}</label></div>
                            <div class="col-sm-6">
                                <apex:inputText value="{!currLead.Street}" styleClass="form-control"
                                                html-placeholder="0000 NE 00 Ave" id="paddress" maxlength="40"/>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-3"><label>{!$Label.Wish_Referral_City}</label></div>
                            <div class="col-sm-6">
                                <apex:inputText value="{!currLead.City}"
                                                styleClass="form-control pcity pcity1 alpha-only"
                                                html-placeholder="{!$Label.Wish_Referral_City}" id="pcity1"
                                                maxlength="40"/>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-3"><label>{!$Label.Wish_Referral_State}</label></div>
                            <div class="col-sm-6">
                                <apex:selectList size="1" id="p-state" value="{!currState}"
                                                 styleClass="form-control col-xs-12 c-select state">
                                    <apex:selectOptions value="{!States}"/>
                                </apex:selectList>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-3"><label>{!$Label.Wish_Referral_Postal_Code}</label></div>
                            <div class="col-sm-6">
                                <apex:inputText value="{!currLead.PostalCode}"
                                                styleClass="form-control ppostalcode ppostalcode1 postalcode numbers-only"
                                                html-placeholder="00000" maxlength="5" id="ppostalcode"/>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-3"><label
                                        aria-labelledby="email address">{!$Label.Wish_Referral_Email} {!$Label.Wish_Referral_Address}</label>
                            </div>
                            <div class="col-sm-6">
                                <apex:inputText value="{!currLead.Email}"
                                                styleClass="form-control pemailaddress pemailaddress1 email-std"
                                                id="pemailaddress" maxlength="80"
                                                html-placeholder="guardian_email@domain.com"/>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-3"><label
                                        aria-labelledby="phone number">{!$Label.Wish_Referral_Primary_Number}</label>
                            </div>
                            <div class="col-sm-6">
                                <apex:inputText value="{!currLead.Phone}"
                                                styleClass="form-control pphone pphone1 phonemask numbers-only"
                                                id="pphonenumber" html-pattern=".{10,15}" maxlength="14"
                                                html-placeholder="(000) 000-0000"/>
                            </div>
                        </div>
                        <div class="form-group row language-required">
                            <label class="col-sm-3"
                                   id="langLabel">{!$Label.Wish_Referral_Primary_Language_Spoken}</label>
                            <div class="col-sm-6" id="plang_chosen">
                                <!-- IME-157 Starts -->
                                <apex:selectList value="{!languageList}" size="4" id="plang" multiselect="true"
                                                 styleClass="form-control col-xs-12 c-select multi"
                                                 onchange="languageselection(this.id);updateLang();">
                                    <apex:selectOptions value="{!language}"/>
                                </apex:selectList>
                                <!-- IME-157 Ends -->
                                <!--SIE-370 Added error message in case primary language is not selected-->
                                <em id="langError" style="display:none;padding-top: 0.35rem;">Oops! Please enter a
                                    language</em>
                                <!-- IME-157 Ends -->
                            </div>
                            <div style="opacity: 0;pointer-events: none;">
                                <apex:inputText id="langI"/>
                            </div>

                        </div>
                        <div class="form-group row" id="otherlanguagediv" style="display:none;">
                            <div class="col-sm-3"><label
                                        aria-labelledby="other language">{!$Label.Wish_Referral_Other_Language}</label>
                            </div>
                            <div class="col-sm-6">
                                <apex:inputText value="{!currLead.OtherLanguage__c}"
                                                styleClass="form-control alpha-only otherlanguageclass"
                                                html-placeholder="{!$Label.Wish_Referral_Placeholder_Please_Enter_Other_Language}"
                                                id="otherlanguage"/>
                            </div>
                        </div>

                        <apex:outputPanel id="rr">
                            <apex:actionRegion >
                                <div class="form-group row">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_Number_of_Siblings}</label>
                                    </div>
                                    <div class="col-sm-6">
                                        <apex:selectList value="{!currLead.of_Siblings__c}" id="nSib" size="1"
                                                         multiselect="false"
                                                         styleClass="form-control col-xs-12 c-select chosen single">
                                            <apex:selectOptions value="{!NoOfSiblings}"/>
                                            <apex:actionSupport event="onchange" action="{!disPlayChildForm}"
                                                                reRender="table"/>
                                        </apex:selectList>
                                    </div>
                                </div>
                                <div class="form-group row sibInfo">
                                    <apex:outputPanel id="table">
                                        <apex:outputPanel rendered="{!currLead.of_Siblings__c != '0' && currLead.of_Siblings__c != '' && currLead.of_Siblings__c != 'Unknown'}">
                                            <label class="col-md-12">{!$Label.Wish_Referral_Sibling_Information}</label>
                                        </apex:outputPanel>
                                        <div class="col-md-12 sib-tablewrap">
                                            <apex:dataTable value="{!SiblingList}" var="currsibling"
                                                            styleClass="table table-maw table-hover">
                                                <apex:column >
                                                    <apex:inputText value="{!currsibling.fName}"
                                                                    styleClass="form-control"
                                                                    html-placeholder="{!$Label.Wish_Referral_Placeholder_First_Name}"
                                                                    id="psibfirstname"/>
                                                </apex:column>
                                                <apex:column >
                                                    <apex:inputText value="{!currsibling.lName}"
                                                                    styleClass="form-control"
                                                                    html-placeholder="{!$Label.Wish_Referral_Last_Name}"
                                                                    id="psiblastname"/>
                                                </apex:column>
                                                <apex:column >
                                                    <apex:inputText value="{!currsibling.age}" styleClass="form-control"
                                                                    html-placeholder="{!$Label.Wish_Referral_Age}"
                                                                    id="psibage"/>
                                                </apex:column>
                                            </apex:dataTable>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                            </apex:actionRegion>
                        </apex:outputPanel>
                    </fieldset>
                    <fieldset class="connected">
                        <apex:pagemessages id="msg4"/>
                        <div class="form-group row">
                            <div class="col-md-12"><a href="#"
                                                      class="text-muted add-guardian">+ {!$Label.Wish_Referral_Add_Parent_Legal_Guardian}</a>
                            </div>
                        </div>
                    </fieldset>
                    <!-- parent/guardian 2 -->
                    <fieldset class="guardian-2 connected-haslegend fadein-alert">
                        <legend class="m-b-3"><span class="text-muted">{!$Label.Wish_Referral_Parent_or_Guardian}
                                2 {!$Label.Wish_Referral_If_Applicable}</span></legend>
                        <a href="#" class="text-muted remove-block">- {!$Label.Wish_Referral_Remove_Parent_Guardian}
                            2</a>
                        <div class="form-group row">
                            <div class="col-sm-3"><label>{!$Label.Wish_Referral_Relationship_to_Child}</label></div>
                            <div class="col-sm-6">
                                <apex:selectList size="1" id="p-r2c-2"
                                                 value="{!currLead.Additional_Parent_Relationship_to_Child__c}"
                                                 styleClass="form-control col-xs-12 c-select">
                                    <apex:selectOptions value="{!RelationshipsToChild}"/>
                                </apex:selectList>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-3"><label>{!$Label.Wish_Referral_Name}</label></div>
                            <div class="col-sm-6">
                                <apex:inputText value="{!currLead.Additional_Parent_First_Name__c}"
                                                styleClass="form-control name-group pfirstname alpha-only"
                                                id="pfirstname2"
                                                html-placeholder="{!$Label.Wish_Referral_Placeholder_First_Name}"
                                                maxlength="40"/>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-3"><label class="sr-only"
                                                         aria-label="last_name">{!$Label.Wish_Referral_Last_Name}</label>
                            </div>
                            <div class="col-sm-6 lastname">
                                <apex:inputText value="{!currLead.Additional_Parent_Last_Name__c}"
                                                styleClass="form-control name-group plastname alpha-only"
                                                html-placeholder="{!$Label.Wish_Referral_Last_Name}" id="plastname2"
                                                maxlength="40"/>
                            </div>
                        </div>
                        <div class="form-group row clone-guardian-1">
                            <div class="col-sm-12 offset-sm-3">
                                <label class="c-input c-checkbox">
                                    <input type="checkbox"/>
                                    <span class="c-indicator sas"></span>
                                    {!$Label.Wish_Referral_Same_Address_as_Parent_or_Guardian} 1
                                </label>
                            </div>
                        </div>
                        <span class="guardian-2-address-fields">
                                <div class="form-group row">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_Address}</label></div>
                                    <div class="col-sm-6">
                                        <apex:inputText value="{!currLead.Additional_Parent_Street__c}"
                                                        styleClass="form-control" html-placeholder="0000 NE 00 Ave"
                                                        id="paddress2" maxlength="40"/>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_City}</label></div>
                                    <div class="col-sm-6">
                                        <apex:inputText value="{!currLead.Additional_Parent_City__c}"
                                                        styleClass="form-control pcity alpha-only"
                                                        html-placeholder="{!$Label.Wish_Referral_City}" id="pcity2"
                                                        maxlength="40"/>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_State}</label></div>
                                    <div class="col-sm-6">
                                        <apex:selectList size="1" id="p-state2" value="{!additionalParentState}"
                                                         styleClass="form-control col-xs-12 c-select state">
                                            <apex:selectOptions value="{!States}"/>
                                        </apex:selectList>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_Postal_Code}</label></div>
                                    <div class="col-sm-6">
                                        <apex:inputText value="{!currLead.Additional_Parent_Postal_Code__c}"
                                                        styleClass="form-control ppostalcode postalcode numbers-only"
                                                        html-placeholder="00000" maxlength="5" id="ppostalcode2"/>
                                    </div>
                                </div>
                            </span>
                        <div class="form-group row">
                            <div class="col-sm-3"><label
                                        aria-labelledby="email address">{!$Label.Wish_Referral_Email} {!$Label.Wish_Referral_Address}</label>
                            </div>
                            <div class="col-sm-6">
                                <apex:inputText value="{!currLead.Additional_Parent_Email__c}"
                                                styleClass="form-control pemailaddress email-std" id="pemailaddress2"
                                                maxlength="80" html-placeholder="guardian_email@domain.com"/>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-3"><label
                                        aria-labelledby="phone number">{!$Label.Wish_Referral_Primary_Number}</label>
                            </div>
                            <div class="col-sm-6">
                                <apex:inputText value="{!currLead.Additional_Parent_Phone__c}"
                                                styleClass="form-control pphone phonemask numbers-only"
                                                id="pphonenumber2" html-pattern=".{10,15}" maxlength="14"
                                                html-placeholder="(000) 000-0000"/>
                            </div>
                        </div>
                    </fieldset>
                </apex:outputPanel>
                <!-- medical and physician info -->
                <fieldset>
                    <apex:pagemessages id="msg5"/>
                    <legend>{!$Label.Wish_Referral_Medical_Information}</legend>
                    <div class="form-group row primaryDiagnosis">
                        <div class="col-sm-3"><label>{!$Label.Wish_Referral_Primary_Diagnosis}</label></div>
                        <div class="col-sm-6">
                            <apex:inputText id="searchDiagnosisId" styleClass="placeHolder form-control"
                                            html-placeholder="{!$Label.Wish_Referral_Placeholder_Diagnosis_Example}"/>
                            <apex:inputText id="sDiagnosisId" styleClass="searchDiagnosisId"
                                            value="{!selectedDiagnosis}" style="display:none"/>
                        </div>
                    </div>
                    <div class="form-group row primary-diagnosis-other" hidden="hidden">
                        <div class="col-sm-3"><label>{!$Label.Wish_Referral_Primary_Diagnosis_Description}
                                <span>{!$Label.Wish_Referral_Other_Diagnosis}</span></label></div>
                        <div class="col-sm-6">
                            <apex:inputTextarea id="searchDiagnosisOther" styleClass="form-control"
                                                value="{!currLead.Other_diagnosis__c}"
                                                html-placeholder="{!$Label.Wish_Referral_Diagnosis_Not_In_Database}"
                                                html-maxlength="1100"/>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-3"></div>
                        <div class="col-sm-6"><span class="field-word-seperator"></span></div>
                    </div>
                    <div class="form-group form-group-seperator row">
                        <div class="col-sm-3"><label>{!$Label.Wish_Referral_ICD_Code}</label></div>
                        <div class="col-sm-6">
                            <!--SIW-557: Updated placeholder to 'C91.0' from 'C00'-->
                            <apex:inputText id="diagnosisTextId" styleClass="diagnosisText placeHolder form-control"
                                            html-placeholder="example: C91.0"/>
                            <apex:outputText id="shortTextId" styleClass="shortTextId text-muted"/>
                            <apex:inputText styleClass="diagnosisFilter" value="{!diagnosisFilter}" id="dFilter"
                                            style="display:none"/>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-3"><label>{!$Label.Wish_Referral_Approximate_Diagnosis_Date}</label></div>
                        <div class="col-xs-6 col-sm-3">
                            <apex:selectList size="1" multiselect="false" value="{!diagnosisMonth}"
                                             styleclass="form-control col-xs-12 c-select" id="diagnosisMonth">
                                <apex:selectoption itemValue="{!$Label.Wish_Referral_Month}"
                                                   itemLabel="{!$Label.Wish_Referral_Month}"/>
                                <apex:selectoption itemValue="{!$Label.Wish_Referral_Month_January}"
                                                   itemLabel="{!$Label.Wish_Referral_Month_January}"/>
                                <apex:selectoption itemValue="{!$Label.Wish_Referral_Month_February}"
                                                   itemLabel="{!$Label.Wish_Referral_Month_February}"/>
                                <apex:selectoption itemValue="{!$Label.Wish_Referral_Month_March}"
                                                   itemLabel="{!$Label.Wish_Referral_Month_March}"/>
                                <apex:selectoption itemValue="{!$Label.Wish_Referral_Month_April}"
                                                   itemLabel="{!$Label.Wish_Referral_Month_April}"/>
                                <apex:selectoption itemValue="{!$Label.Wish_Referral_Month_May}"
                                                   itemLabel="{!$Label.Wish_Referral_Month_May}"/>
                                <apex:selectoption itemValue="{!$Label.Wish_Referral_Month_June}"
                                                   itemLabel="{!$Label.Wish_Referral_Month_June}"/>
                                <apex:selectoption itemValue="{!$Label.Wish_Referral_Month_July}"
                                                   itemLabel="{!$Label.Wish_Referral_Month_July}"/>
                                <apex:selectoption itemValue="{!$Label.Wish_Referral_Month_August}"
                                                   itemLabel="{!$Label.Wish_Referral_Month_August}"/>
                                <apex:selectoption itemValue="{!$Label.Wish_Referral_Month_September}"
                                                   itemLabel="{!$Label.Wish_Referral_Month_September}"/>
                                <apex:selectoption itemValue="{!$Label.Wish_Referral_Month_October}"
                                                   itemLabel="{!$Label.Wish_Referral_Month_October}"/>
                                <apex:selectoption itemValue="{!$Label.Wish_Referral_Month_November}"
                                                   itemLabel="{!$Label.Wish_Referral_Month_November}"/>
                                <apex:selectoption itemValue="{!$Label.Wish_Referral_Month_December}"
                                                   itemLabel="{!$Label.Wish_Referral_Month_December}"/>
                                <apex:selectoption itemValue="{!$Label.Wish_Referral_Option_Not_Sure}"
                                                   itemLabel="{!$Label.Wish_Referral_Option_Not_Sure}"/>
                            </apex:selectList>
                        </div>
                        <div class="col-xs-6 col-sm-3">
                            <apex:selectList size="1" multiselect="false" value="{!diagnosisYear}"
                                             styleclass="form-control col-xs-12 c-select" id="diagnosisYear">
                                <apex:selectOptions value="{!diaYear}"></apex:selectOptions>
                            </apex:selectList>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-3">{!$Label.Wish_Referral_Medical_Reason_Move_Quickly}</label>
                        <div class="col-sm-6">
                            <apex:selectList value="{!currLead.Any_medical_reason_for_moving_quickly__c}" size="1"
                                             multiselect="false"
                                             styleClass="form-control col-xs-12 c-select chosen single" id="urgency">
                                <apex:selectOption itemLabel="Please Select" itemValue="" html-selected="true"
                                                   html-disabled="true"/>
                                <apex:selectOption itemLabel="{!$Label.Select_Option_Yes}"
                                                   itemValue="{!$Label.Select_Option_Yes}"/>
                                <apex:selectOption itemLabel="{!$Label.Select_Option_No}"
                                                   itemValue="{!$Label.Select_Option_No}"/>
                                <apex:selectOption itemLabel="{!$Label.Wish_Referral_Option_Not_Sure}"
                                                   itemValue="{!$Label.Wish_Referral_Option_Not_Sure}"/>
                                <!--SIW-275 : Added this new option-->
                            </apex:selectList>
                        </div>
                    </div>
                    <!--SIW-275 : Added when response is selected as Yes in above question-->
                    <div class="form-group row urgency-expand fadein-alert">
                        <div class="col-sm-3"><label>{!$Label.Wish_Referral_Medical_Reason}</label></div>
                        <div class="col-sm-6">
                            <apex:inputTextarea id="medicalReasonInfo" value="{!referralRush}"
                                                styleClass="form-control required"
                                                html-placeholder="{!$Label.Wish_Referral_Placeholder_Describe_Medical_Reason}"/>
                        </div>
                    </div>
                    <div class="form-group row medical-additional-info">
                        <div class="col-sm-3"><label>{!$Label.Wish_Referral_Additional_Information}</label></div>
                        <div class="col-sm-6">
                            <apex:inputTextarea id="medicalAdditonalInfo" value="{!referralComment}"
                                                styleClass="form-control"
                                                html-placeholder="{!$Label.Wish_Referral_Placeholder_Additional_Medical_Information}"/>
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>{!$Label.Wish_Referral_Treating_Medical_Professional_Information}</legend>
                    <div class="row repeatMedProf mpRel">
                        <div class="col-sm-12 offset-sm-3">
                            <label class="c-input c-checkbox">
                                <apex:inputCheckbox id="trtSameAsRefInfoChk"
                                                    onChange="onChangeSameAsCheckbox(this.id, this.checked)"
                                                    value="{!copyReferrerInfo}"/>
                                <span class="c-indicator sas"></span>
                                {!$Label.Wish_Referral_Same_as_Referrer_Information}
                            </label>
                        </div>
                    </div>
                    <div class="trtMpInfo">
                        <div class="row mpRel" style="margin-top:-15px">
                            <div class="col-sm-3" style="padding-top:15px">
                                <label>{!$Label.Wish_Referral_Treating_Medical_Professional}</label></div>
                            <div class="col-sm-6" style="margin-bottom:-12px">
                                <div id="externalTreatingContactLookup"></div>
                                <apex:inputHidden id="externalTreatingContactLookupOutput"
                                                  value="{!mpHtfSearch.treatingMedicalProfessionalId}"/>
                                <div style="opacity: 0;pointer-events: none;">
                                    <apex:inputText id="externalTreatingContactLookupValidation"/>
                                </div>
                                <apex:inputHidden id="treatingContactEmpty" value="{!treatingContactEmpty}"/>
                            </div>
                        </div>
                        <div class="trtNewAff">
                            <div class="form-group row">
                                <div class="col-sm-3"></div>
                                <div class="col-sm-6" style="margin-top:-10px; text-align: center">
                                    <label>Please provide additional information (Optional)</label>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"/>
                                <div class="col-sm-6">
                                    <div style="display: flex; align-items: center;">
                                        <label style="width:85px">{!$Label.Wish_Referral_Phone}</label>
                                        <apex:inputText value="{!treatingNewAffPhone}"
                                                        styleClass="form-control trtmpaffphone phonemask numbers-only"
                                                        html-placeholder="(000) 000-0000" id="trtmpaffphone"
                                                        html-pattern=".{10,14}" maxlength="10"/>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"/>
                                <div class="col-sm-6">
                                    <div style="display: flex; align-items: center;">
                                        <label style="width:85px">{!$Label.Wish_Referral_Email}</label>
                                        <apex:inputText value="{!treatingNewAffEmail}"
                                                        styleClass="form-control email-std trtmpaffemail"
                                                        html-placeholder="medicalprofessional_email@domain.com"
                                                        id="trtmpaffemail"
                                                        maxlength="80"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row mpRel">
                            <div class="col-sm-3"></div>
                            <div class="col-sm-6"><span class="field-word-seperator"></span></div>
                        </div>
                        <div class="form-group row newTrtMpChk mpRel">
                            <div class="col-sm-12 offset-sm-3" style="margin-top:-10px">
                                <label class="c-input c-checkbox">
                                    <apex:inputCheckbox id="createNewTrtMPchk"
                                                        onChange="onChangeCreateCheckbox(this.id, this.checked)"/>
                                    <span class="c-indicator sas"></span>
                                    {!$Label.Wish_Referral_Create_New_Medical_Professional}
                                </label>
                            </div>
                        </div>
                        <div class="medToRepeat trtMpForm">
                            <div class="form-group row mpRel">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Title}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputField value="{!currLead.Salutation_TreatingMP__c}"
                                                     styleClass="form-control col-xs-12 col-sm-12 c-select msalutation"
                                                     id="msalutation"/>
                                </div>
                            </div>
                            <div class="form-group row nonMpRel">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Name}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Treating_Medical_Professional_First_Name__c}"
                                                    styleClass="form-control name-group mfirstname"
                                                    html-placeholder="{!$Label.Wish_Referral_Placeholder_First_Name}"
                                                    id="mpfirstname" maxlength="40"/>
                                </div>
                            </div>
                            <div class="form-group row nonMpRel">
                                <div class="col-sm-3"><label class="sr-only"
                                                             aria-label="last_name">{!$Label.Wish_Referral_Last_Name}</label>
                                </div>
                                <div class="col-sm-6 lastname">
                                    <apex:inputText value="{!currLead.Treating_Medical_Professional_Last_Name__c}"
                                                    styleClass="form-control name-group mlastname"
                                                    html-placeholder="{!$Label.Wish_Referral_Last_Name}" id="mplastname"
                                                    maxlength="40"/>
                                </div>
                            </div>
                            <div class="form-group row nonMpRel">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Phone}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Treating_Medical_Professional_Phone__c}"
                                                    styleClass="form-control mphone phonemask numbers-only trtContact"
                                                    html-placeholder="(000) 000-0000" id="mphone"
                                                    html-pattern=".{10,14}" maxlength="10"/>
                                </div>
                            </div>
                            <div class="row nonMpRel">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Email}</label></div>
                                <div class="form-group col-sm-6">
                                    <apex:inputText value="{!currLead.Treating_Medical_Professional_Email__c}"
                                                    styleClass="form-control memail email-std trtContact"
                                                    html-placeholder="medicalprofessional_email@domain.com" id="mpemail"
                                                    maxlength="80"/>
                                </div>
                            </div>
                            <div class="form-group row mpRel">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_City}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Treating_MP_City__c}"
                                                    styleClass="form-control mcity alpha-only"
                                                    html-placeholder="{!$Label.Wish_Referral_City}" id="trtcity"
                                                    maxlength="50"/>
                                </div>
                            </div>
                            <div class="form-group row mpRel">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_State}</label></div>
                                <div class="col-sm-6">
                                    <apex:selectList size="1" id="mstate" value="{!currLead.Treating_MP_State__c}"
                                                     styleClass="form-control col-xs-12 c-select state mstate">
                                        <apex:selectOptions value="{!States}"/>
                                    </apex:selectList>
                                </div>
                            </div>
                            <div class="form-group row mpRel">
                                <div class="col-sm-3">
                                    <label>{!$Label.Wish_Referral_Medical_Professional_Category}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputField value="{!currLead.Treating_MP_Category__c}"
                                                     styleClass="form-control col-xs-12 col-sm-12 c-select mcategory"
                                                     id="mcategory"/>
                                </div>
                            </div>
                            <div class="form-group row mpRel">
                                <div class="col-sm-3">
                                    <label>{!$Label.Wish_Referral_Medical_Professional_Specialty}</label></div>
                                <div class="col-sm-6">
                                    <apex:selectList size="1" id="mspecialty"
                                                     value="{!currLead.Treating_MP_Specialty__c}"
                                                     styleClass="form-control col-xs-12 c-select mspecialty">
                                        <apex:selectOptions value="{!MedicalSpecialty}"/>
                                    </apex:selectList>
                                </div>
                            </div>
                            <div class="form-group row nonMpRel" id="trtHtf">
                                <div class="col-sm-3">
                                    <label>{!$Label.Wish_Referral_Hospital_or_Treatment_Facility}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Hospital_Treatment_Facility_Treating__c}"
                                                    styleClass="form-control mphospitalname" id="mphospitalname"
                                                    maxlength="50"
                                                    html-placeholder="{!$Label.Wish_Referral_Placeholder_Hospital_Facility_Name}"/>
                                </div>
                            </div>
                        </div>
                        <div class="treatingHtf">
                            <div class="row mpRel" style="padding-top: 25px">
                                <div class="col-sm-3" style="padding-top:15px">
                                    <label>{!$Label.Wish_Referral_Treating_Hospital_Facility}</label>
                                </div>
                                <div class="col-sm-6" style="margin-bottom:-12px">
                                    <div style="display: flex; align-items: center;">
                                        <label style="width:85px">{!$Label.Wish_Referral_State_Filter}:</label>
                                        <apex:selectList size="1" id="treatingAccountState"
                                                         styleClass="form-control col-xs-12 c-select stateOptional treatingAccountState"
                                                         onchange="updateHtfFilter('externalTreatingAccountLookup', this.value, 'Treating Hospital/Facility')">
                                            <apex:selectOptions value="{!FilterStateOptions}"/>
                                        </apex:selectList>
                                    </div>
                                    <div id="externalTreatingAccountLookup"></div>
                                    <div style="opacity: 0;pointer-events: none;">
                                        <apex:inputText id="externalTreatingAccountLookupValidation"/>
                                    </div>
                                </div>
                                <apex:inputHidden id="externalTreatingAccountLookupOutput"
                                                  value="{!mpHtfSearch.treatingHospitalFacilityId}"/>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"></div>
                                <div class="col-sm-6"><span class="field-word-seperator"></span></div>
                            </div>
                            <div class="form-group row newTrtHtfChk">
                                <div class="col-sm-12 offset-sm-3" style="margin-top:-10px">
                                    <label class="c-input c-checkbox">
                                        <apex:inputCheckbox id="createNewTrtHTFchk"
                                                            onChange="onChangeCreateCheckbox(this.id, this.checked)"/>
                                        <span class="c-indicator sas"></span>
                                        {!$Label.Wish_Referral_Create_New_Hospital_Facility}
                                    </label>
                                </div>
                            </div>
                            <div class="trtHtfForm">
                                <div class="form-group row">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_Name}</label></div>
                                    <div class="col-sm-6">
                                        <apex:inputText value="{!treatingHtfName}"
                                                        styleClass="form-control trthtfname"
                                                        html-placeholder="{!$Label.Wish_Referral_Name}" id="trthtfname"
                                                        maxlength="50"/>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_Address}</label></div>
                                    <div class="col-sm-6">
                                        <apex:inputText value="{!currLead.Treating_MP_HTF_Street_Address__c}"
                                                        styleClass="form-control trthtfstreet"
                                                        html-placeholder="0000 NE 00 Ave" id="trthtfstreet"
                                                        maxlength="40"/>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_City}</label></div>
                                    <div class="col-sm-6">
                                        <apex:inputText value="{!currLead.Treating_MP_HTF_City__c}"
                                                        styleClass="form-control trthtfcity alpha-only"
                                                        html-placeholder="{!$Label.Wish_Referral_City}" id="trthtfcity"
                                                        maxlength="50"/>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_State}</label></div>
                                    <div class="col-sm-6">
                                        <apex:selectList size="1" id="trthtfstate"
                                                         value="{!currLead.Treating_MP_HTF_State__c}"
                                                         styleClass="form-control col-xs-12 c-select state trthtfstate">
                                            <apex:selectOptions value="{!States}"/>
                                        </apex:selectList>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_Postal_Code}</label></div>
                                    <div class="col-sm-6">
                                        <apex:inputText value="{!currLead.Treating_MP_HTF_Zip_Code__c}"
                                                        styleClass="form-control trthtfzip numbers-only"
                                                        html-placeholder="00000" id="trthtfzip" maxlength="5"/>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3"><label>Facility {!$Label.Wish_Referral_Phone}</label></div>
                                    <div class="col-sm-6">
                                        <apex:inputText value="{!currLead.Treating_MP_HTF_Phone__c}"
                                                        styleClass="form-control trthtfphone phonemask numbers-only"
                                                        html-placeholder="(000) 000-0000" id="trthtfphone"
                                                        html-pattern=".{10,14}" maxlength="10"/>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3"><label>{!$Label.Wish_Referral_HTF_Department}</label></div>
                                    <div class="col-sm-6">
                                        <apex:inputField value="{!currLead.Treating_MP_HTF_Department__c}"
                                                         styleClass="form-control col-xs-12 col-sm-12 c-select optionApplicable trthtfdept"
                                                         html-placeholder="{!$Label.Wish_Referral_HTF_Department}"
                                                         id="trthtfdept"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>
                <fieldset class="connected main-office-contact">
                    <div class="form-group row">
                        <div class="col-sm-3" style="line-height:10px">
                            <label>{!$Label.Wish_Referral_Other_Treating_Medical_Professional}</label></div>
                    </div>
                    <div class="row repeatMedProfBest">
                        <div class="col-sm-12 offset-sm-3">
                            <label class="c-input c-checkbox">
                                <apex:inputCheckbox id="bestSameAsRefInfoChk"
                                                    onChange="onChangeSameAsCheckbox(this.id, this.checked)"
                                                    value="{!copyReferrerInfoBest}"/>
                                <span class="c-indicator sas"></span>
                                {!$Label.Wish_Referral_Same_as_Referrer_Information}
                            </label>
                        </div>
                    </div>
                    <div class="bestMpInfo">
                        <div class="mpSearchCreate">
                            <div class="row">
                                <div class="col-sm-3" style="padding-top:15px">
                                    <label>{!$Label.Wish_Referral_Best_Medical_Contact}</label></div>
                                <div class="col-sm-6" style="margin-bottom:-12px">
                                    <div id="externalBestContactLookup"></div>
                                    <apex:inputHidden id="externalBestContactLookupOutput"
                                                      value="{!mpHtfSearch.bestMedicalProfessionalId}"/>
                                    <div style="opacity: 0;pointer-events: none;">
                                        <apex:inputText id="externalBestContactLookupValidation"/>
                                    </div>
                                    <apex:inputHidden id="bestContactEmpty" value="{!bestContactEmpty}"/>
                                </div>
                            </div>
                            <div class="bestNewAff">
                                <div class="form-group row">
                                    <div class="col-sm-3"></div>
                                    <div class="col-sm-6" style="margin-top:-10px; text-align: center">
                                        <label>Please provide additional information (Optional)</label>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3"/>
                                    <div class="col-sm-6">
                                        <div style="display: flex; align-items: center;">
                                            <label style="width:85px">{!$Label.Wish_Referral_Phone}</label>
                                            <apex:inputText value="{!bestNewAffPhone}"
                                                            styleClass="form-control bestmpaffphone phonemask numbers-only"
                                                            html-placeholder="(000) 000-0000" id="bestmpaffphone"
                                                            html-pattern=".{10,14}" maxlength="10"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3"/>
                                    <div class="col-sm-6">
                                        <div style="display: flex; align-items: center;">
                                            <label style="width:85px">{!$Label.Wish_Referral_Email}</label>
                                            <apex:inputText value="{!bestNewAffEmail}"
                                                            styleClass="form-control email-std bestmpaffemail"
                                                            html-placeholder="medicalprofessional_email@domain.com"
                                                            id="bestmpaffemail"
                                                            maxlength="80"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"></div>
                                <div class="col-sm-6"><span class="field-word-seperator"></span></div>
                            </div>
                            <div class="form-group row newBestMpChk">
                                <div class="col-sm-12 offset-sm-3" style="margin-top:-10px">
                                    <label class="c-input c-checkbox">
                                        <apex:inputCheckbox id="createNewBestMPchk"
                                                            onChange="onChangeCreateCheckbox(this.id, this.checked)"/>
                                        <span class="c-indicator sas"></span>
                                        {!$Label.Wish_Referral_Create_New_Medical_Professional}
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="medToRepeatBest">
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Title}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputField value="{!currLead.Salutation_BestContactMP__c}"
                                                     styleClass="form-control col-xs-12 col-sm-12 c-select bsalutation"
                                                     id="bsalutation"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Name}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Best_Contact_for_Physician_First_Name__c}"
                                                    styleClass="form-control mpmaincontactfirstname"
                                                    id="mpmaincontactfirstname" maxlength="50"
                                                    html-placeholder="{!$Label.Wish_Referral_Placeholder_First_Name}"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label class="sr-only"
                                                             aria-label="last_name">{!$Label.Wish_Referral_Last_Name}</label>
                                </div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Best_Contact_for_Physician_Last_Name__c}"
                                                    styleClass="form-control mpmaincontactlastname"
                                                    id="mpmaincontactlastname" maxlength="50"
                                                    html-placeholder="{!$Label.Wish_Referral_Last_Name}"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Phone}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Best_contact_for_Physician_Phone__c}"
                                                    styleclass="form-control phonemask numbers-only mpmaincontactphone bestContact"
                                                    html-placeholder="(000) 000-0000" id="mpmaincontactphone"
                                                    html-pattern=".{10,14}" maxlength="10"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_Email}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Best_contact_for_Physician_Email__c}"
                                                    styleClass="form-control bemail email-std notqualto mpmaincontactemail bestContact"
                                                    html-placeholder="email@domain.com" id="mpmaincontactemail"
                                                    maxlength="80"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_City}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputText value="{!currLead.Best_Contact_City__c}"
                                                    styleClass="form-control rcity alpha-only bcity"
                                                    html-placeholder="{!$Label.Wish_Referral_City}" id="bcity"
                                                    maxlength="50"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3"><label>{!$Label.Wish_Referral_State}</label></div>
                                <div class="col-sm-6">
                                    <apex:selectList size="1" id="bstate" value="{!currLead.Best_Contact_State__c}"
                                                     styleClass="form-control col-xs-12 c-select state bstate">
                                        <apex:selectOptions value="{!States}"/>
                                    </apex:selectList>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3">
                                    <label>{!$Label.Wish_Referral_Medical_Professional_Category}</label></div>
                                <div class="col-sm-6">
                                    <apex:inputField value="{!currLead.Best_Contact_Category__c}"
                                                     styleClass="form-control col-xs-12 col-sm-12 c-select bcategory"
                                                     id="bcategory"/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-3">
                                    <label>{!$Label.Wish_Referral_Medical_Professional_Specialty}</label></div>
                                <div class="col-sm-6">
                                    <apex:selectList size="1" id="bspecialty"
                                                     value="{!currLead.Best_Contact_Specialty__c}"
                                                     styleClass="form-control col-xs-12 c-select bspecialty">
                                        <apex:selectOptions value="{!MedicalSpecialty}"/>
                                    </apex:selectList>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>

                <fieldset class="fs">
                    <legend>Form Security</legend>
                    <div class="form-group row">
                        <div class="col-sm-3"><label for="form-security" aria-label="form-security">Security
                                Checkbox</label></div>
                        <div class="col-sm-6">
                            <label class="c-input c-checkbox" for="b98084695645e0e89ec5a2f3c41f0a2d">
                                <input type="checkbox" id="b98084695645e0e89ec5a2f3c41f0a2d"
                                       name="b98084695645e0e89ec5a2f3c41f0a2d"/>
                                <span class="c-indicator"></span>
                                If you are human, <strong>do not</strong> check this.
                            </label>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-3"><label for="2-b98084695645e0e89ec5a2f3c41f0a2d">Security Input</label>
                        </div>
                        <div class="col-sm-6">
                            <input type="text" class="form-control 2-b98084695645e0e89ec5a2f3c41f0a2d" maxlength="50"
                                   name="udh&6**33#" id="2-b98084695645e0e89ec5a2f3c41f0a2d"
                                   placeholder="If you see this, you might be a bot or you have your JavaScript disabled"
                                   value="udh&6**33#"/>
                            <small class="text-muted">Do not change this field</small>
                        </div>
                    </div>
                </fieldset>
                <fieldset class="footer">
                    <apex:commandbutton value="{!$Label.Submit_Label}" action="{!createLead}"
                                        styleClass="submitBtn col-xs-12 col-sm-4 col-sm-4 col-sm-push-8 push-sm-8 btn-md submit"
                                        onclick="validateForm()"/>
                </fieldset>
            </div>
        </apex:outputpanel>
        <apex:outputpanel rendered="{!displayAckMsg == True}">
            <div class="col-sm-12" style="margin-top:2rem">
                <p class="text-center">{!$Label.Wish_Referral_Thank_You_For_Submitting}</p>
                <div class="text-center">
                    <button type="button" onClick="window.location.href=document.referrer" class="btn-md m-r-1"
                            aria-label="Submit another referral"><span
                                aria-hidden="true">{!$Label.Wish_Referral_Submit_Another_Referral}</span></button>
                    <button type="button" onclick="window.open('https://wish.org','_self')" class="btn-md"
                            aria-label="Return to wish"><span
                                aria-hidden="true">{!$Label.Wish_Referral_Return_to_Home_Site}</span></button>
                    <!--SIW-606: Changed method to navigate to home site -->
                </div>
            </div>
        </apex:outputpanel>
        <apex:inputText value="{!currLead.Relationship_to_child__c}" id="rToChild" styleClass="Relchild sr-only"/>
    </apex:form>
    <div class="modal fade" id="warningModal" data-target="#warningModal" tabindex="-1" data-backdrop="static"
         data-keyboard="false" role="dialog" aria-labelledby="Warning Modal" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title" id="exit-form">{!$Label.Wish_Referral_Age_Requirement}</h1>
                </div>
                <div class="modal-body">
                    <p class="text-muted col-xs-12 alertMsg" style="text-align:center"></p>
                </div>
                <div class="modal-footer">
                    <button type="button"
                            style="font-family:'Lato', Arial, sans-serif; color:#fff; border:none; text-transform:uppercase; height:4rem;"
                            class="btn-md" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">{!$Label.Continue_Label}</span></button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="age13under-modal" tabindex="-1" data-target="#age13under-modal" data-backdrop="static"
         data-keyboard="false" role="dialog" aria-labelledby="Under 13 Years" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title" id="exit-form">{!$Label.Wish_Referral_Age_Requirement}</h1>
                </div>
                <div class="modal-body">
                    <p class="text-muted col-xs-12 alertMsg" style="text-align:center"></p>
                </div>
                <div class="modal-footer">
                    <button type="button"
                            style="font-family:'Lato', Arial, sans-serif; color:#fff; border:none; text-transform:uppercase; height:4rem; margin-right:1px"
                            class="btn-md" data-dismiss="modal" aria-label="cancel" onclick="window.location.reload();">
                        <span aria-hidden="true">{!$Label.Cancel_Label}</span></button>
                    <button type="button"
                            style="font-family:'Lato', Arial, sans-serif; color:#fff; border:none; text-transform:uppercase; height:4rem;"
                            class="btn-md" data-dismiss="modal" aria-label="confirm"><span
                                aria-hidden="true">{!$Label.Confirm_Label}</span></button>
                </div>
            </div>
        </div>
    </div>
    <!-- / modal end -->
    <apex:includeLightning />
    <script>
        window.addEventListener('load', () => {
            turnOffAutocomplete();
            buildValidationLookupFields();
        });

        function updateHtfFilter(lookupId, value, pluralHint) {
            let filter = value === '' ? '' : {BillingState: 'BillingState = \'' + value + '\''};
            let element = document.getElementById(lookupId);
            if (element) {
                element.removeChild(element.firstChild);
            }
            createLightningComponent(lookupId, 'Account', pluralHint,
                'Name, Alias__c, BillingCity, BillingState', '{0} - {1}, {2}, {3}', filter);
            buildValidationLookupFields();
        }

        function buildValidationLookupFields() {
            let refAccountEm = document.createElement("em");
            refAccountEm.setAttribute('id', 'refAccountEm');
            refAccountEm.setAttribute('hidden', 'true');
            refAccountEm.appendChild(document.createTextNode("Oops! Please enter a Hospital/Facility"));
            document.querySelector('#externalReferrerAccountLookup')
                .querySelector('.slds-combobox__form-element')
                .appendChild(refAccountEm);

            let refContactEm = document.createElement("em");
            refContactEm.setAttribute('id', 'refContactEm');
            refContactEm.setAttribute('hidden', 'true');
            refContactEm.appendChild(document.createTextNode("Oops! Please enter a Medical Professional"));
            document.querySelector('#externalReferrerContactLookup')
                .querySelector('.slds-combobox__form-element')
                .appendChild(refContactEm);

            let trtAccountEm = document.createElement("em");
            trtAccountEm.setAttribute('id', 'trtAccountEm');
            trtAccountEm.setAttribute('hidden', 'true');
            trtAccountEm.appendChild(document.createTextNode("Oops! Please enter a Hospital/Facility"));
            document.querySelector('#externalTreatingAccountLookup')
                .querySelector('.slds-combobox__form-element')
                .appendChild(trtAccountEm);

            let trtContactEm = document.createElement("em");
            trtContactEm.setAttribute('id', 'trtContactEm');
            trtContactEm.setAttribute('hidden', 'true');
            trtContactEm.appendChild(document.createTextNode("Oops! Please enter a Medical Professional"));
            document.querySelector('#externalTreatingContactLookup')
                .querySelector('.slds-combobox__form-element')
                .appendChild(trtContactEm);

            let bestContactEm = document.createElement("em");
            bestContactEm.setAttribute('id', 'bestContactEm');
            bestContactEm.setAttribute('hidden', 'true');
            bestContactEm.appendChild(document.createTextNode("Oops! Please enter a Medical Professional"));
            document.querySelector('#externalBestContactLookup')
                .querySelector('.slds-combobox__form-element')
                .appendChild(bestContactEm);
        }

        (function (arr) {
            arr.forEach(function (item) {
                if (item.hasOwnProperty('prepend')) {
                    return;
                }
                Object.defineProperty(item, 'prepend', {
                    configurable: true,
                    enumerable: true,
                    writable: true,
                    value: function prepend() {
                        var argArr = Array.prototype.slice.call(arguments),
                            docFrag = document.createDocumentFragment();
                        argArr.forEach(function (argItem) {
                            var isNode = argItem instanceof Node;
                            docFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));
                        });
                        this.insertBefore(docFrag, this.firstChild);
                    }
                });
            });
        })([Element.prototype, Document.prototype, DocumentFragment.prototype]);

        //dev/prod url check
        (function () {
            var location = document.location.href;
            var referrer = document.referrer;
            var httpprod = /^(http[s]?:\/\/wish\.force\.com)([\/].*)+$/i.test(location);  //http Production
            var prod = /^(http[s]?:\/\/wish\.secure\.force\.com)([\/].*)+$/i.test(location);  //Production
            //var prod = /^(http[s]?:\/\/uat-wish\.cs3\.force\.com)([\/].*)+$/i.test(location);  //Test with UAT as prod var
            var wish = /^(.*wish\.org)/i.test(referrer);
            var sf = /^(.*force\.com)/i.test(referrer);
            if (((!(referrer)) || ((!(wish)) && (!(sf)))) && ((prod) || (httpprod))) {
                window.location = "https://wish.org/refer-a-child/referral-inquiry-form";
            }
        })();

        (function () {
            var aMeta = document.createElement("meta");
            aMeta.setAttribute('http-equiv', 'x-ua-compatible');
            aMeta.setAttribute('content', 'ie-edge');
            bMeta = document.createElement("meta");
            bMeta.setAttribute('http-equiv', 'content-type');
            bMeta.setAttribute('content', 'text/html');
            bMeta.setAttribute('charset', 'utf-8');
            Title = document.createElement("Title");
            Title.append("Wish Referral Form | Make-A-Wish \u00AE");
            cMeta = document.createElement("meta");
            cMeta.setAttribute('name', 'HandheldFriendly');
            cMeta.setAttribute('content', 'True');
            dMeta = document.createElement("meta");
            dMeta.setAttribute('name', 'MobileOptimized');
            dMeta.setAttribute('content', '480');
            eMeta = document.createElement("meta");
            eMeta.setAttribute('name', 'viewport');
            eMeta.setAttribute('content', 'width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0');
            fMeta = document.createElement("meta");
            fMeta.setAttribute('http-equiv', 'cleartype');
            fMeta.setAttribute('content', 'on');
            gMeta = document.createElement("meta");
            gMeta.setAttribute('name', 'ref-chid');
            gMeta.setAttribute('content', '');
            hMeta = document.createElement("meta");
            hMeta.setAttribute('ref-mawsite', 'salesforce');
            // prepend metatags
            document.head.prepend(aMeta, bMeta, Title, cMeta, dMeta, eMeta, fMeta, gMeta, hMeta);
        })();

        //script to pull chid argument from the URL
        function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split("&");
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split("=");
                if (pair[0] == variable) {
                    return pair[1];
                }
            }
            return (false);
        }

        //Drupal Site Alternate Styling
        (function () {
            var pHead = document.getElementsByTagName('head')[0];
            var alt = getQueryVariable('alt');
            if (alt == "t") {
                pHead.innerHTML = pHead.innerHTML + '<link rel="stylesheet" href="//ssl.wish.org/css/drupal_referral_form.css" type="text/css" />';
            }
        })();

        //populate meta tags based on chid argument
        var refchid = getQueryVariable('chid');
        document.querySelector("meta[name='ref-chid']").setAttribute('content', refchid);
        // $('meta[name=ref-chid]').attr('content', refchid);
    </script>
    <!-- maw satellite script -->
    <!-- dev -->
    <!--<script src="//ssl.wish.org/satellite/staging/edec8212b3b96d293794554858d0cc86077c139d/satelliteLib-1ec2b614cbc9d2632dabfb246ea08ebad993f205-staging.js"></script>-->
    <!-- prod -->
    <script src="//ssl.wish.org/satellite/edec8212b3b96d293794554858d0cc86077c139d/satelliteLib-1ec2b614cbc9d2632dabfb246ea08ebad993f205.js"></script>
    <apex:outputPanel >
        <script src="{!URLFOR($Resource.wff_assets, 'wff_assets/js/jquery-2.2.4.min.js')}"></script>
        <script src="{!URLFOR($Resource.wff_assets, 'wff_assets/js/jquery-ui-1.11.3.min.js')}"></script>
        <script>
            $('head').append('<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.4/css/bootstrap.min.css" integrity="sha384-2hfp1SzUoho7/TsGGGDaFdsuuDL0LX2hnUp6VkX3CUQ2K4K+xjboZdsXyp4oUHZj" crossorigin="anonymous"><link rel="stylesheet" href="https://code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css"/><link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.prospective_assets, "web/css/chosen.min.css")}" media="all"><link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.prospective_assets, "web/css/core.css")}" media="all" id="corecss">');
        </script>
        <!-- bootstrap -->
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js"
                integrity="sha384-Plbmg8JY28KFelvJVai01l8WyZzrYWG825m+cZ0eDDS1f7d/js6ikvy1+X+guPIB"
                crossorigin="anonymous"></script>
        <!-- fallbacks -->
        <script async="async" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.4/js/bootstrap.min.js"
                integrity="sha384-VjEeINv9OSwtWFLAtmc4JCtEJXXBub00gtSnszmspDLCtC0I4z4nqz7rEFbIZLLU"
                crossorigin="anonymous"></script>
        <!-- bootstrap css fallback (appends to head) -->
        <script>$.each(document.styleSheets, function (i, sheet) {
                if (sheet.href == 'https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css') {
                    var rules = sheet.rules ? sheet.rules : sheet.cssRules;
                    if (rules.length == 0) {
                        $('<link rel="stylesheet" type="text/css" href="css/lib/bootstrap.min.css" />').appendTo('head');
                    }
                }
            });
            $(document).ready(function () {
                $(window).keydown(function (event) {
                    if (event.keyCode == 13) { // disable "enter" keypress to prevent premature form validation
                        event.preventDefault();
                        return false;
                    }
                });
            });
            //SIW-275 Start : Added CSS to hide and display questions on DV form
            // hide Medical reason textbox onload
            $('.language-required').prop('hidden', false);
            $(".language-required").addClass("requiredField");
            $('.urgency-expand').prop('hidden', true);
            // show/hide Medical reason textbox
            $('[id$=urgency]').on('change', function () {
                if (this.value == 'Yes') {
                    $('.urgency-expand').prop('hidden', false);
                    $(".urgency-expand").addClass("requiredField");
                } else {
                    $('.urgency-expand').val("");
                    $(".urgency-expand").removeClass("requiredField");
                    $('.urgency-expand').prop('hidden', true);
                }
            });
            //SIW-275 End
        </script>
        <!-- iframe resizer -->
        <!-- previous version. updated with new version below per R.Anderson - <script async="async" src="//ssl.wish.org/javascript/iframeResizer.contentWindow.min.js"></script> -->
        <script async="async" src="//ssl.wish.org/javascript/iframeResizer.contentWindow.js"></script>
        <!-- chosen select -->
        <script src="{!URLFOR($Resource.prospective_assets, 'web/js/chosen.jquery.min.js')}"></script>
        <!-- masked input -->
        <script async="async" src="{!URLFOR($Resource.prospective_assets, 'web/js/jq.maskedinput.min.js')}"></script>
        <!-- validate forms -->
        <script async="async" src="{!URLFOR($Resource.prospective_assets, 'web/js/jquery.validate.min.js')}"></script>
        <!-- validate form (additional methods) -->
        <script async="async"
                src="{!URLFOR($Resource.prospective_assets, 'web/js/additional-methods.min.js')}"></script>
        <!-- diagnosis/ICD, form validation, form ui interactions -->
        <script async="async" src="{!URLFOR($Resource.wishreferralui_js)}"></script>
        <!-- Persist chid to receipt -->
        <script>$('.chid-value').val(getQueryVariable('chid'));</script>
        <!-- //DATA COLLECTOR -->
        <script language="javascript" type="text/livescript">
            var _mawData = {
                "form": {
                    "fID": "Wish Referral"
                },
                "pageCat": {
                    "hierarchy": "Refer a Child:Referral Inquiry Form",
                    "pageId": "Wish Referral Form"
                },
                "siteId": getQueryVariable('chid'),
                "ThirdPartyId": "SalesForce Referral"
            };
            function navigateToPage(category){
                if(category == 'wish'){
                    var topLoc = top.location.href,
                        prod = /^(http[s]?:\/\/wish\.secure\.force\.com)([\/].*)+$/i.test(topLoc),
                        returnToWishUrl = (prod) ? window.origin + '/refer-a-child/referral-inquiry-form' : window.origin + '/apex/WishReferralForm_VF';
                    window.location.href = returnToWishUrl;
                }else{
                    window.parent.postMessage('home', '*');
                }
            }
        </script>
        <script>_satellite.pageBottom();</script>
    </apex:outputPanel>
    <script>
        var rel = null;

        function changeRelationship(ref, val) {
            $(".shownOnYes").addClass("fam-aware-overlay");//SIW-556 Issue fix
            rel = val;
            document.getElementById('hhh').style.display = 'none';
            if (val == 'Medical Professional') {
                document.getElementById('remaildiv').style.display = '';
                document.getElementById('remail1div').style.display = 'none';
                document.getElementById('healthProvider').style.display = 'none';
                document.getElementsByClassName('refToParent')[0].style.display = 'none';
                document.getElementsByClassName('refToMP')[0].style.display = 'block';
                let mpRelElement = document.getElementsByClassName('mpRel');
                for (i = 0; i < mpRelElement.length; i++) {
                    mpRelElement[i].style.display = 'block';
                }
                document.getElementById("trtHtf").style.display = 'none';
                document.getElementsByClassName('repeatMedProf')[0].style.display = 'none';
                document.getElementsByClassName('trtMpForm')[0].style.display = 'none';
                document.getElementsByClassName('bestMpInfo')[0].style.display = 'block';
                document.getElementsByClassName('repeatMedProfBest')[0].style.display = 'block';
            } else if (val == 'Self' || val == 'Parent/Guardian' || val == 'Family Member/Relative') {
                document.getElementById('healthProvider').style.display = '';
                document.getElementById('remail1div').style.display = 'none';
                document.getElementsByClassName('refToParent')[0].style.display = 'block';
                document.getElementsByClassName('refToMP')[0].style.display = 'none';
                document.getElementsByClassName('trtMpInfo')[0].style.display = 'block';
                document.getElementsByClassName('trtMpForm')[0].style.display = 'block';
                let mpRelElement = document.getElementsByClassName('mpRel');
                for (i = 0; i < mpRelElement.length; i++) {
                    mpRelElement[i].style.display = 'none';
                }
                let nonmpRelElement = document.getElementsByClassName('nonMpRel');
                for (i = 0; i < mpRelElement.length; i++) {
                    nonmpRelElement[i].style.display = 'block';
                }
            } else {
                document.getElementById('remaildiv').style.display = 'none';
                document.getElementById('remail1div').style.display = '';
                document.getElementById('healthProvider').style.display = 'none';
                document.getElementsByClassName('refToParent')[0].style.display = 'block';
                document.getElementsByClassName('refToMP')[0].style.display = 'none';
                document.getElementsByClassName('trtMpForm')[0].style.display = 'block';
                let mpRelElement = document.getElementsByClassName('mpRel');
                for (i = 0; i < mpRelElement.length; i++) {
                    mpRelElement[i].style.display = 'none';
                }
                document.getElementById("trtHtf").style.display = 'block';
            }
            if (val == 'Parent/Guardian') {
                $(".shownOnYes").addClass("fam-aware-overlay");
            }
        }

        //SIW-556 : Modified this method to allow users to proceed even when select No in question "HAS THE REFERRAL BEEN DISCUSSED WITH THE CHILD'S HEALTHCARE PROVIDER?"
        function getInputValue() {
            // Selecting the input element and get its value document.querySelector('.searchField').value;
            var inputVal1 = document.querySelectorAll(".searchFieldDis");
            var inputVal2 = document.querySelectorAll(".searchFieldAwa");

            if (rel == 'Self' || rel == 'Family Member/Relative') {
                if (inputVal2[0].value == 'Yes') {
                    if (inputVal1[0].value == 'Yes' || inputVal1[0].value == 'No') {
                        $(".shownOnYes").removeClass("fam-aware-overlay")
                    } else {
                        $(".shownOnYes").addClass("fam-aware-overlay")
                    }

                } else {
                    $(".shownOnYes").addClass("fam-aware-overlay")
                }
            } else if (rel == 'Parent/Guardian') {
                $(".shownOnYes").removeClass("fam-aware-overlay")

            } else {
                if (inputVal1[0].value == 'Yes' || inputVal2[0].value == 'Yes') {
                    $(".shownOnYes").removeClass("fam-aware-overlay")
                } else {
                    $(".shownOnYes").addClass("fam-aware-overlay")
                }
            }
        }

        function updateLang() {
            var elems = document.querySelectorAll('[id$="plang"]');
            var val = '';
            for (var i = 0; i < elems.length; i++) {
                val = val + elems[i].value;
            }
            document.querySelectorAll('[id$="langI"]')[0].value = val;
        }

        let isWishReferralFormSubmitted = (document.getElementById('j_id0:frm:panel') === undefined
            || document.getElementById('j_id0:frm:panel') === null);
        if (!isWishReferralFormSubmitted) {
            createLightningComponent('externalReferrerAccountLookup', 'Account', 'Referring Hospital/Facility',
                'Name, Alias__c, BillingCity, BillingState', '{0} - {1}, {2}, {3}');

            createLightningComponent('externalReferrerContactLookup', 'Contact', 'Referring Medical Professional',
                'Name, MailingCity, MailingState, Provider_Type__c, Specialty__c', '{0} - {1}, {2}, {3}, {4}');

            createLightningComponent('externalTreatingAccountLookup', 'Account', 'Treating Hospital/Facility',
                'Name, Alias__c, BillingCity, BillingState', '{0} - {1}, {2}, {3}');

            createLightningComponent('externalTreatingContactLookup', 'Contact', 'Treating Medical Professional',
                'Name, MailingCity, MailingState, Provider_Type__c, Specialty__c', '{0} - {1}, {2}, {3}, {4}');

            createLightningComponent('externalBestContactLookup', 'Contact', 'Medical Professional',
                'Name, MailingCity, MailingState, Provider_Type__c, Specialty__c', '{0} - {1}, {2}, {3}, {4}');
        }

        function createLightningComponent(lookupId, sObjectAPIName, pluralHint, fieldsToReturn, formattedOutput, filter) {
            $Lightning.use("c:ExternalLookupApp", function () {
                $Lightning.createComponent("c:ExternalLookupSObject",
                    {
                        lookupId: lookupId,
                        sObjectAPIName: sObjectAPIName,
                        label: '',
                        pluralHint: pluralHint,
                        fieldsToReturn: fieldsToReturn,
                        formattedOutput: formattedOutput,
                        iconFullName: '',
                        filter: filter
                    },
                    lookupId,
                    function () {
                        $A.eventService.addHandler({"event": "c:ExternalLookupEvent", "handler": handleEventResponse});
                    });
            });
        }

        // Function to handle the Event of the search component and get the Id of the record
        function handleEventResponse(event) {
            try {
                let eventData = event.getParam("EventData");
                let field;
                let fieldOutput;
                let fieldInput;
                let fieldPair;
                let inputType;
                let fieldCreateCheckbox;
                if (eventData.lookupId === 'externalReferrerContactLookup') {
                    field = document.querySelector('#externalReferrerContactLookup');
                    fieldOutput = document.querySelectorAll('[id$="externalReferrerContactLookupOutput"]')[0];
                    fieldInput = field.querySelector('.slds-input');
                    inputType = 'referrerContact';
                    fieldPair = document.querySelectorAll('[id$="externalReferrerAccountLookupOutput"]')[0];
                    fieldCreateCheckbox = document.querySelectorAll('[id$="createNewRefMPchk"]')[0];
                } else if (eventData.lookupId === 'externalReferrerAccountLookup') {
                    field = document.querySelector('#externalReferrerAccountLookup');
                    fieldOutput = document.querySelectorAll('[id$="externalReferrerAccountLookupOutput"]')[0];
                    fieldInput = field.querySelector('.slds-input');
                    inputType = 'referrerAccount';
                    fieldPair = document.querySelectorAll('[id$="externalReferrerContactLookupOutput"]')[0];
                    fieldCreateCheckbox = document.querySelectorAll('[id$="createNewRefHTFchk"]')[0];
                } else if (eventData.lookupId === 'externalTreatingContactLookup') {
                    field = document.querySelector('#externalTreatingContactLookup');
                    fieldOutput = document.querySelectorAll('[id$="externalTreatingContactLookupOutput"]')[0];
                    fieldInput = field.querySelector('.slds-input');
                    inputType = 'treatingContact';
                    fieldPair = document.querySelectorAll('[id$="externalTreatingAccountLookupOutput"]')[0];
                    fieldCreateCheckbox = document.querySelectorAll('[id$="createNewTrtMPchk"]')[0];
                } else if (eventData.lookupId === 'externalTreatingAccountLookup') {
                    field = document.querySelector('#externalTreatingAccountLookup');
                    fieldOutput = document.querySelectorAll('[id$="externalTreatingAccountLookupOutput"]')[0];
                    fieldInput = field.querySelector('.slds-input');
                    inputType = 'treatingAccount';
                    fieldPair = document.querySelectorAll('[id$="externalTreatingContactLookupOutput"]')[0];
                    fieldCreateCheckbox = document.querySelectorAll('[id$="createNewTrtHTFchk"]')[0];
                } else if (eventData.lookupId === 'externalBestContactLookup') {
                    field = document.querySelector('#externalBestContactLookup');
                    fieldOutput = document.querySelectorAll('[id$="externalBestContactLookupOutput"]')[0];
                    fieldInput = field.querySelector('.slds-input');
                    inputType = 'bestContact';
                    fieldPair = document.querySelectorAll('[id$="externalTreatingAccountLookupOutput"]')[0];
                    fieldCreateCheckbox = document.querySelectorAll('[id$="createNewBestMPchk"]')[0];
                }
                if (fieldOutput && eventData.eventType === 'select') {
                    fieldOutput.value = eventData.recordId;
                    //if both MP and HTF populated check if affiliation exists and render email and phone fields if none
                    if (fieldPair.value) {
                        Visualforce.remoting.Manager.invokeAction(
                            '{!$RemoteAction.WishReferralForm_AC.searchAccountContactAffiliation}',
                            fieldOutput.value, fieldPair.value,
                            function (result, event) {
                                if (event.status && result === true) {
                                    if (inputType === 'referrerContact' || inputType === 'referrerAccount') {
                                        document.getElementsByClassName('refNewAff')[0].style.display = 'block';
                                    } else if (inputType === 'treatingContact' || inputType === 'treatingAccount') {
                                        document.getElementsByClassName('trtNewAff')[0].style.display = 'block';
                                    } else if (inputType === 'bestContact') {
                                        document.getElementsByClassName('bestNewAff')[0].style.display = 'block';
                                    }
                                }
                            },
                            {escape: true}
                        );
                    }
                    if (inputType === 'referrerContact') {
                        document.querySelector('[id$="createNewRefMPchk"]').disabled = true;
                        if (document.querySelector('[id$="createNewRefHTFchk"]').checked) {
                            document.getElementsByClassName('refNewAff')[0].style.display = 'block';
                        } else {
                            //check if contact is missing all email and phone fields
                            Visualforce.remoting.Manager.invokeAction(
                                '{!$RemoteAction.WishReferralForm_AC.checkEmptyContactFields}',
                                fieldOutput.value,
                                function (result, event) {
                                    if (event.status) {
                                        if (result === true) {
                                            document.getElementsByClassName('refNewAff')[0].style.display = 'block';
                                            document.querySelectorAll('[id$="referrerContactEmpty"]')[0].value = true;
                                        } else {
                                            document.querySelectorAll('[id$="referrerContactEmpty"]')[0].value = false;
                                        }
                                    }
                                },
                                {escape: true}
                            );
                        }
                        //check if referring & treating are the same
                        let refLookupOutput = document.querySelectorAll('[id$="externalReferrerContactLookupOutput"]')[0].value;
                        let trtLookupOutput = document.querySelectorAll('[id$="externalTreatingContactLookupOutput"]')[0].value;
                        if(refLookupOutput === trtLookupOutput) {
                            document.getElementsByClassName('repeatMedProfBest')[0].style.display = 'none';
                        }
                    } else if (inputType === 'treatingContact') {
                        document.querySelector('[id$="createNewTrtMPchk"]').disabled = true;
                        if (document.querySelector('[id$="createNewTrtHTFchk"]').checked) {
                            document.getElementsByClassName('trtNewAff')[0].style.display = 'block';
                        } else {
                            Visualforce.remoting.Manager.invokeAction(
                                '{!$RemoteAction.WishReferralForm_AC.checkEmptyContactFields}',
                                fieldOutput.value,
                                function (result, event) {
                                    if (event.status) {
                                        if (result === true) {
                                            document.getElementsByClassName('trtNewAff')[0].style.display = 'block';
                                            document.querySelectorAll('[id$="treatingContactEmpty"]')[0].value = true;
                                        } else {
                                            document.querySelectorAll('[id$="treatingContactEmpty"]')[0].value = false;
                                        }
                                    }
                                },
                                {escape: true}
                            );
                        }
                        //check if referring & treating are the same
                        let refLookupOutput = document.querySelectorAll('[id$="externalReferrerContactLookupOutput"]')[0].value;
                        let trtLookupOutput = document.querySelectorAll('[id$="externalTreatingContactLookupOutput"]')[0].value;
                        if(refLookupOutput === trtLookupOutput) {
                            document.getElementsByClassName('repeatMedProfBest')[0].style.display = 'none';
                        }
                    } else if (inputType === 'bestContact') {
                        document.querySelector('[id$="createNewBestMPchk"]').disabled = true;
                        if (document.querySelector('[id$="createNewTrtHTFchk"]').checked) {
                            document.getElementsByClassName('bestNewAff')[0].style.display = 'block';
                        } else {
                            Visualforce.remoting.Manager.invokeAction(
                                '{!$RemoteAction.WishReferralForm_AC.checkEmptyContactFields}',
                                fieldOutput.value,
                                function (result, event) {
                                    if (event.status) {
                                        if (result === true) {
                                            document.getElementsByClassName('bestNewAff')[0].style.display = 'block';
                                            document.querySelectorAll('[id$="bestContactEmpty"]')[0].value = true;
                                        } else {
                                            document.querySelectorAll('[id$="bestContactEmpty"]')[0].value = false;
                                        }
                                    }
                                },
                                {escape: true}
                            );
                        }
                    } else if (inputType === 'referrerAccount') {
                        document.querySelector('[id$="createNewRefHTFchk"]').disabled = true;
                    } else if (inputType === 'treatingAccount') {
                        document.querySelector('[id$="createNewTrtHTFchk"]').disabled = true;
                    }
                } else if (fieldOutput && eventData.eventType === 'clear') {
                    if (fieldOutput.value !== '' && fieldInput.value !== '') {
                        fieldInput.value = '';
                    }
                    fieldOutput.value = '';
                    if (inputType === 'referrerContact') {
                        document.querySelector('[id$="createNewRefMPchk"]').disabled = false;
                        document.getElementsByClassName('refNewAff')[0].style.display = 'none';
                        document.getElementsByClassName('repeatMedProfBest')[0].style.display = 'block';
                    } else if (inputType === 'referrerAccount') {
                        document.querySelector('[id$="createNewRefHTFchk"]').disabled = false;
                        let referringContact = document.getElementById('j_id0:frm:referrerContactEmpty').value;
                        if (referringContact === 'false') {
                            document.getElementsByClassName('refNewAff')[0].style.display = 'none';
                        }
                    } else if (inputType === 'treatingContact') {
                        document.querySelector('[id$="createNewTrtMPchk"]').disabled = false;
                        document.getElementsByClassName('trtNewAff')[0].style.display = 'none';
                        document.getElementsByClassName('repeatMedProfBest')[0].style.display = 'block'
                    } else if (inputType === 'bestContact') {
                        document.querySelector('[id$="createNewBestMPchk"]').disabled = false;
                        document.getElementsByClassName('bestNewAff')[0].style.display = 'none';
                    } else if (inputType === 'treatingAccount') {
                        document.querySelector('[id$="createNewTrtHTFchk"]').disabled = false;
                        let treatingContact = document.getElementById('j_id0:frm:treatingContactEmpty').value;
                        let bestContact = document.getElementById('j_id0:frm:bestContactEmpty').value;
                        if (treatingContact === 'false') {
                            document.getElementsByClassName('trtNewAff')[0].style.display = 'none';
                        }
                        if (bestContact === 'false') {
                            document.getElementsByClassName('bestNewAff')[0].style.display = 'none';
                        }
                    }
                }
                validateLookupField(field, fieldOutput, fieldCreateCheckbox);
            } catch (err) {
                // Silently catch error
            }
        }

        // Function to change the Search related field to disabled
        function onChangeCreateCheckbox(id, checked) {
            let fieldInput;
            let field;
            let fieldPair;
            let fieldFilter;
            if (id === 'j_id0:frm:createNewRefMPchk') {
                fieldInput = document.querySelector('#externalReferrerContactLookup lightning-input');
                field = document.getElementById('j_id0:frm:externalReferrerContactLookupOutput');
            } else if (id === 'j_id0:frm:createNewTrtMPchk') {
                fieldInput = document.querySelector('#externalTreatingContactLookup lightning-input');
                field = document.getElementById('j_id0:frm:externalTreatingContactLookupOutput');
            } else if (id === 'j_id0:frm:createNewBestMPchk') {
                fieldInput = document.querySelector('#externalBestContactLookup lightning-input');
                field = document.getElementById('j_id0:frm:externalBestContactLookupOutput');
            } else if (id === 'j_id0:frm:createNewRefHTFchk') {
                fieldInput = document.querySelector('#externalReferrerAccountLookup lightning-input');
                field = document.getElementById('j_id0:frm:externalReferrerAccountLookupOutput');
                fieldPair = document.querySelectorAll('[id$="externalReferrerContactLookupOutput"]')[0];
                fieldFilter = document.querySelectorAll('[id$="referrerAccountState"]')[0];
                let referringContactEmpty = document.getElementById('j_id0:frm:referrerContactEmpty').value;
                if (fieldPair.value && checked === true) {
                    document.getElementsByClassName('refNewAff')[0].style.display = 'block';
                } else if (checked === false && referringContactEmpty === 'false') {
                    document.getElementsByClassName('refNewAff')[0].style.display = 'none';
                }
            } else if (id === 'j_id0:frm:createNewTrtHTFchk') {
                fieldInput = document.querySelector('#externalTreatingAccountLookup lightning-input');
                field = document.getElementById('j_id0:frm:externalTreatingAccountLookupOutput');
                fieldPair = document.querySelectorAll('[id$="externalTreatingContactLookupOutput"]')[0];
                fieldFilter = document.querySelectorAll('[id$="treatingAccountState"]')[0];
                let fieldPairBest = document.querySelectorAll('[id$="externalBestContactLookupOutput"]')[0];
                let treatingContactEmpty = document.getElementById('j_id0:frm:treatingContactEmpty').value;
                let bestContactEmpty = document.getElementById('j_id0:frm:bestContactEmpty').value;
                if (fieldPair.value && checked === true) {
                    document.getElementsByClassName('trtNewAff')[0].style.display = 'block';
                } else if (checked === false && treatingContactEmpty === 'false') {
                    document.getElementsByClassName('trtNewAff')[0].style.display = 'none';
                }
                if (fieldPairBest.value && checked === true) {
                    document.getElementsByClassName('bestNewAff')[0].style.display = 'block';
                } else if (checked === false && bestContactEmpty === 'false') {
                    document.getElementsByClassName('bestNewAff')[0].style.display = 'none';
                }
            }
            if (field && fieldInput && checked === true) {
                field.value = '';
                fieldInput.value = '';
                fieldInput.disabled = true;
                if (fieldFilter) {
                    fieldFilter.disabled = true;
                    fieldFilter.style = 'background: rgb(233, 234, 236)';
                }
            }
            if (field && fieldInput && checked === false) {
                fieldInput.disabled = false;
                if (fieldFilter) {
                    fieldFilter.disabled = false;
                    fieldFilter.style = '';
                }
            }
        }

        // Function to change the Search related field to disabled
        function onChangeSameAsCheckbox(id, checked) {
            let refContactOutput, fieldCreateChk;
            refContactOutput = document.getElementById('j_id0:frm:externalReferrerContactLookupOutput');
            if (id === 'j_id0:frm:trtSameAsRefInfoChk') {
                fieldCreateChk = document.querySelectorAll('[id$="createNewTrtMPchk"]')[0].checked;
                if (checked === true && fieldCreateChk === false) {
                    document.getElementById('j_id0:frm:externalTreatingContactLookupOutput').value = refContactOutput.value;
                } else {
                    document.getElementById('j_id0:frm:externalTreatingContactLookupOutput').value = '';
                    let externalTrtContact = document.querySelector('#externalTreatingContactLookup');
                    externalTrtContact.querySelector('.slds-input').value = '';
                }
            } else if (id === 'j_id0:frm:bestSameAsRefInfoChk') {
                fieldCreateChk = document.querySelectorAll('[id$="createNewBestMPchk"]')[0].checked;
                if (checked === true && fieldCreateChk === false) {
                    document.getElementById('j_id0:frm:externalBestContactLookupOutput').value = refContactOutput.value;
                } else {
                    document.getElementById('j_id0:frm:externalBestContactLookupOutput').value = '';
                    let externalBestContact = document.querySelector('#externalBestContactLookup');
                    externalBestContact.querySelector('.slds-input').value = '';
                }
            }
        }

        // Validation function for Wish Referral Form
        function validateForm() {
            try {
                // SIW-370 starts : Added 2 methods to display error message for Primary Language field
                let a = document.querySelectorAll('[id$="langI"]');
                a[0].required = true;
                let elem = document.querySelectorAll('[id$="plang"]');
                let elemDiv = document.querySelectorAll('[id$="plang_chosen"]');
                let e = document.querySelectorAll('[id$="langError"]');
                let lab = document.querySelectorAll('[id$="langLabel"]');
                if (elem[0].value === '') {
                    e[0].style.display = "block";
                    lab[0].style.color = "red";
                    elem[0].style.border = "1px solid red";
                    if (elemDiv[0].querySelectorAll('div').length > 0) {
                        elemDiv[0].querySelectorAll('div')[0].style.border = "1px solid red";
                    } else {
                        elem[0].style.border = "1px solid red";
                    }
                } else {
                    e[0].style.display = "none";
                    lab[0].style.color = "#75787B";
                    if (elemDiv[0].querySelectorAll('div').length > 0) {
                        elemDiv[0].querySelectorAll('div')[0].style.border = "1px solid rgba(0,0,0,.15)";
                    } else {
                        elem[0].style.border = "1px solid rgba(0,0,0,.15)";
                    }
                }
                // SIW-370 ends

                // Validating Lookup fields
                let refMpCategory = document.querySelectorAll('[id$="refmpcategory"]')[0].value;
                let refCtcLookupOutput = document.querySelectorAll('[id$="externalReferrerContactLookupOutput"]')[0].value;
                let trtCtcLookupOutput = document.querySelectorAll('[id$="externalTreatingContactLookupOutput"]')[0].value;
                let bestCtcLookupOutput = document.querySelectorAll('[id$="externalBestContactLookupOutput"]')[0].value;
                let referringSameAsTreatingSameAsBest = false;
                if ((refMpCategory === 'Nurse Practitioner' || refMpCategory === 'Physician' || refMpCategory === 'Physician Assistant')
                    && (refCtcLookupOutput !== '')) {
                    referringSameAsTreatingSameAsBest = (refCtcLookupOutput === trtCtcLookupOutput)
                        && (refCtcLookupOutput === bestCtcLookupOutput);
                }

                let externalRefAccount = document.querySelector('#externalReferrerAccountLookup');
                if (document.querySelectorAll('[id$="externalReferrerAccountLookupOutput"]')[0].value === ''
                    && document.querySelectorAll('[id$="createNewRefHTFchk"]')[0].checked === false) {
                    document.querySelectorAll('[id$="externalReferrerAccountLookupValidation"]')[0].required = true;
                    document.querySelector('#refAccountEm').hidden = false;
                    externalRefAccount.querySelector('.slds-input').style.border = "1px solid red";
                } else {
                    document.querySelectorAll('[id$="externalReferrerAccountLookupValidation"]')[0].required = false;
                    document.querySelector('#refAccountEm').hidden = true;
                    externalRefAccount.querySelector('.slds-input').style.border = "";
                    document.querySelector('#externalReferrerAccountLookup').parentElement
                        .previousElementSibling.firstElementChild.style.color = '';
                }

                let externalRefContact = document.querySelector('#externalReferrerContactLookup');
                if (document.querySelectorAll('[id$="externalReferrerContactLookupOutput"]')[0].value === ''
                    && document.querySelectorAll('[id$="createNewRefMPchk"]')[0].checked === false) {
                    document.querySelectorAll('[id$="externalReferrerContactLookupValidation"]')[0].required = true;
                    document.querySelector('#refContactEm').hidden = false;
                    externalRefContact.querySelector('.slds-input').style.border = "1px solid red";
                } else {
                    document.querySelectorAll('[id$="externalReferrerContactLookupValidation"]')[0].required = false;
                    document.querySelector('#refContactEm').hidden = true;
                    externalRefContact.querySelector('.slds-input').style.border = "";
                    document.querySelector('#externalReferrerContactLookup').parentElement
                        .previousElementSibling.firstElementChild.style.color = '';
                }

                let externalTrtAccount = document.querySelector('#externalTreatingAccountLookup');
                if (document.querySelectorAll('[id$="externalTreatingAccountLookupOutput"]')[0].value === ''
                    && document.querySelectorAll('[id$="createNewTrtHTFchk"]')[0].checked === false) {
                    document.querySelectorAll('[id$="externalTreatingAccountLookupValidation"]')[0].required = true;
                    document.querySelector('#trtAccountEm').hidden = false;
                    externalTrtAccount.querySelector('.slds-input').style.border = "1px solid red";
                } else {
                    document.querySelectorAll('[id$="externalTreatingAccountLookupValidation"]')[0].required = false;
                    document.querySelector('#trtAccountEm').hidden = true;
                    externalTrtAccount.querySelector('.slds-input').style.border = "";
                    document.querySelector('#externalTreatingAccountLookup').parentElement
                        .previousElementSibling.firstElementChild.style.color = '';
                }

                let externalTrtContact = document.querySelector('#externalTreatingContactLookup');
                if (document.querySelectorAll('[id$="externalTreatingContactLookupOutput"]')[0].value === ''
                    && document.querySelectorAll('[id$="createNewTrtMPchk"]')[0].checked === false) {
                    document.querySelectorAll('[id$="externalTreatingContactLookupValidation"]')[0].required = true;
                    document.querySelector('#trtContactEm').innerText = 'Oops! Please enter a Medical Professional';
                    document.querySelector('#trtContactEm').hidden = false;
                    externalTrtContact.querySelector('.slds-input').style.border = "1px solid red";
                } else if (referringSameAsTreatingSameAsBest === true
                    && document.querySelectorAll('[id$="trtSameAsRefInfoChk"]')[0].checked === false) {
                    document.querySelectorAll('[id$="externalTreatingContactLookupValidation"]')[0].required = true;
                    document.querySelector('#trtContactEm').innerText = 'Oops! Referring Medical Professional cannot be the same as the ' +
                        'Treating Medical Professional and Best Contact';
                    document.querySelector('#trtContactEm').hidden = false;
                    externalTrtContact.querySelector('.slds-input').style.border = "1px solid red";
                } else {
                    document.querySelectorAll('[id$="externalTreatingContactLookupValidation"]')[0].required = false;
                    document.querySelector('#trtContactEm').hidden = true;
                    externalTrtContact.querySelector('.slds-input').style.border = "";
                    document.querySelector('#externalTreatingContactLookup').parentElement
                        .previousElementSibling.firstElementChild.style.color = '';
                }

                let externalBestContact = document.querySelector('#externalBestContactLookup');
                if (referringSameAsTreatingSameAsBest === true
                    && document.querySelectorAll('[id$="bestSameAsRefInfoChk"]')[0].checked === false) {
                    document.querySelector('#bestContactEm').innerText = 'Oops! Referring Medical Professional cannot be the same as the ' +
                        'Treating Medical Professional and Best Contact';
                    document.querySelector('#bestContactEm').hidden = false;
                    externalBestContact.querySelector('.slds-input').style.border = "1px solid red";
                } else {
                    document.querySelectorAll('[id$="externalBestContactLookupValidation"]')[0].required = false;
                    document.querySelector('#bestContactEm').hidden = true;
                    externalBestContact.querySelector('.slds-input').style.border = "";
                    document.querySelector('#externalBestContactLookup').parentElement
                        .previousElementSibling.firstElementChild.style.color = '';
                }
            } catch (err) {
                // Silently catch error
            }
        }

        // Validation on Lookup Fields only to clear validations
        function validateLookupField(field, fieldOutput, fieldCreateCheckbox) {
            try {
                if (field && fieldOutput && fieldCreateCheckbox) {
                    let fieldValidation = '';
                    fieldValidation = fieldValidation.concat('[id$=\"', field.id, 'Validation\"]');
                    document.querySelectorAll(fieldValidation)[0].required = false;
                    field.querySelector('em').hidden = true;
                    field.querySelector('.slds-input').style.border = "";
                    field.parentElement.previousElementSibling.firstElementChild.style.color = '';
                }
            } catch (err) {
                // Silently catch error
            }
        }

        function turnOffAutocomplete(){
            // Turn off autocomplete for Search Fields
            document.querySelector('#externalReferrerAccountLookup')
                .querySelector('input').setAttribute('autocomplete', 'off');
            document.querySelector('#externalReferrerContactLookup')
                .querySelector('input').setAttribute('autocomplete', 'off');
            document.querySelector('#externalTreatingAccountLookup')
                .querySelector('input').setAttribute('autocomplete', 'off');
            document.querySelector('#externalTreatingContactLookup')
                .querySelector('input').setAttribute('autocomplete', 'off');
            document.querySelector('#externalBestContactLookup')
                .querySelector('input').setAttribute('autocomplete', 'off');
        }
    </script>
    <!-- custom style for referral page -->
    <style>
        .m-b-3 {
            margin-bottom: 3rem;
        }

        .errorM3 {
            margin: 1%;
        }

        .sas {
            display: inline !important
        }

        .add-guardian {
            font-family: "Lato", Arial, sans-serif !important;
        }

        .text-muted {
            font-family: "Lato", Arial, sans-serif !important;
        }

        form {
            border: none
        }

        form .form-control:disabled {
            background-color: #eee !important
        }

        .dateOnlyInput input {
            width: 100% !important
        }

        #datePicker, .dateFormat {
            display: none ! important
        }

        .date-input {
            background-color: initial
        }

        .ui-autocomplete {
            overflow-y: scroll;
            max-height: 270px
        }

        .displayNone, .medicalProvider, .other, .repeatMedProf, .shownOnSiblingsYes, .sibInfo {
            display: none
        }

        .shownOnYes {
            position: relative
        }

        .shownOnYes.fam-aware-overlay::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            background: rgba(255, 255, 255, .8);
            min-width: 100%;
            min-height: 100%;
            z-index: 2
        }

        .shownOnYes.fam-aware-overlay: hover::after {
            content: "Please answer the required fields above to proceed";
            position: absolute;
            top: 0;
            left: 0;
            color: #666;
            line-height: 5rem;
            text-align: center
        }

        .repeatMedProf {
            padding-bottom: 30px;
        }

        .repeatMedProf label {
            padding-right: 10px
        }

        .displayBlock {
            display: block
        }

        .ui-autocomplete-loading {
            background: url(" {! URLFOR($Resource.WishReferralStyle, 'WishReferralStyle/img/loader-circle-blue.gif')} ") right .5rem center no-repeat ! important;
            background-size: 1rem 1rem ! important
        }

        .placeHolder {
            font-style: italic
        }

        .vfHelpText a {
            position: relative
        }

        .vfHelpText a span {
            display: none
        }

        .vfHelpText a: hover span {
            display: block;
            position: absolute;
            right: -15em;
            width: 15em;
            z-index: 100;
            border: 1px solid;
            background-color: #FEFDB9;
            color: #000
        }

        .pop-wrap {
            position: fixed;
            top: 20%;
            left: 50%;
            z-index: 9999;
            width: 90%;
            max-width: 35rem
        }

        .custPopup {
            font-family: arial, helvetica, sans-serif;
            position: relative;
            background: #fff;
            border: 1px solid #0057B8;
            border-radius: .25rem;
            top: -20%;
            left: -50%;
            padding: 1rem;
            width: 100%
        }

        .pop-wrap-main-message {
            top: 1%
        }

        .custPopup-main-message {
            top: 0;
            padding: 0 1rem
        }

        .popupBackground {
            position: fixed;
            background: rgba(0, 0, 0, .4);
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 9998
        }

        .labelCol {
            width: 180px
        }

        .field-word-seperator, .r2c {
            position: relative;
            width: 100%
        }

        .r2c {
            padding: 1rem
        }

        .r2c input {
            margin-right: 1rem
        }

        .r2c label {
            font-family: 'Lato', FuturaStd-Book, Arial, sans-serif;
            float: left;
            background: #fff;
            background: -moz-linear-gradient(top, rgba(255, 255, 255, 1) 0, rgba(243, 243, 243, 1) 100%);
            background: -webkit-linear-gradient(top, rgba(255, 255, 255, 1) 0, rgba(243, 243, 243, 1) 100%);
            background: linear-gradient(to bottom, rgba(255, 255, 255, 1) 0, rgba(243, 243, 243, 1) 100%);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#f3f3f3', GradientType=0);
            border: .1rem solid #ccc;
            border-radius: .2rem;
            box-shadow: .05rem .05rem .1rem #ccc;
            height: 2rem;
            padding: .5rem;
            margin-bottom: .2rem;
            font-size: .7rem;
            text-transform: capitalize
        }

        .ui-widget-content li {
            padding-left: .5rem
        }

        input[id*=diagnosisTextId][disabled=""], input[id*=searchDiagnosisId][disabled=""] {
            background: #eee;
            color: #bbb;
            cursor: not-allowed
        }

        .field-word-seperator {
            font-family: arial;
            font-size: .7rem;
            display: block;
            border-top: 1px dotted #747678;
            color: #747678
        }

        .modal-footer, .modal-header, .table tr:
        nth-child

        (
        1
        )
        td {
            border-top: none
        }

        .field-word-seperator::after {
            content: "OR";
            background: #fff;
            padding: 0 1rem;
            position: absolute;
            left: 43%;
            top: -.6rem;
            text-align: center;
            z-index: 1
        }

        .form-group-seperator {
            margin-bottom: 2rem
        }

        .age-text {
            position: absolute;
            bottom: .6rem;
            right: 2rem
        }

        .option-disabled {
            cursor: not-allowed ! important;
            color: #bbb;
            opacity: 1 ! important;
            padding: .5rem 0 ! important;
            border-bottom: 1px dashed #bbb;
            margin-bottom: 1rem ! important;
            margin-left: 1rem ! important;
            font-size: .8rem;
            width: 50%
        }

        h1.modal-title {
            text-align: center;
            padding-bottom: 0
        }

        .modal-header .close {
            margin-top: -4rem
        }

        .modal-footer {
            display: flex;
            justify-content: center
        }

        .modal-footer .btn-md, .nav-sub-inner .btn-md {
            max-width: 10rem
        }

        .modal-footer .btn-md {
            min-width: 10rem
        }

        fieldset.connected, fieldset.connected-haslegend {
            background: #fff;
            border-top: 1px dashed #ccc;
            margin-top: -1px;
            position: relative;
        }

        /* connected in relation to fieldset */
        fieldset.connected-haslegend > legend {
            float: left;
            padding-top: 0;
            padding-bottom: 0;
            margin-bottom: 0;
        }

        fieldset.connected-haslegend > .info {
            margin-top: 0
        }

        fieldset.connected a {
            font-size: .8rem
        }

        form a.text-muted {
            color: #0057B8 !important
        }

        form a.text-muted:hover {
            color: #0275d8 !important
        }

        .guardian-2 {
            border-top-style: dashed
        }

        a.remove-block {
            position: absolute;
            top: 1rem;
            font-weight: bold;
            left: 13rem;
            z-index: 1
        }

        label > span {
            display: block;
            font-family: Arial;
            text-transform: capitalize;
        }

        textarea {
            height: 5rem
        }

        select.multi {
            height: auto !important;
            padding: 0 0 32% !important;
        }

        select.multi option {
            display: block;
            height: 1.5rem;
            padding: .5rem;
        }

        .text-center {
            text-align: center;
        }
    </style>
    </body>
</apex:page>