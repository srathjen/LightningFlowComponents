<!--  
 - @description Diagnosis Verification component, the parent component for the Diagnosis Verification process.
 - @author Gustavo Mayer, Traction on Demand
 - @createdDate 08/Feb/2021
-->
<template>
  <div class="notification">
    <c-notification-toast
      notification-config={notificationConfig}
    ></c-notification-toast>
  </div>
  <div class="container slds-is-relative">
    <!-- DISPLAY SPINNER -->
    <template if:true={isShowSpinner}>
      <div>
        <lightning-spinner
          alternative-text="Loading"
          size="small"
          variant="brand"
        ></lightning-spinner>
      </div>
    </template>
    <div if:false={isSubmitCanceled}>
      <!-- LOGIN -->
      <div class="login" if:false={isLoginSuccessful}>
        <c-dv-login lead-id={leadId} onlogin={handleLoginEvent}></c-dv-login>
      </div>

      <section class="main" if:true={isLoginSuccessful}>
        <!-- SUMMARY -->
        <div class="fixedSection">
          <div class="section">
            <h1>CHILD INFORMATION</h1>
            <c-dv-child-information></c-dv-child-information>
          </div>
          <div class="section">
            <h1>PROVIDED DIAGNOSIS SUMMARY</h1>
          </div>
        </div>

        <!-- NAVIGATION PROGRESS PATH -->
        <c-navigation-progress-path
          if:true={isShowNavigation}
          process={process}
        ></c-navigation-progress-path>

        <!-- MEDICAL PROFESSIONAL INFORMATION COMPONENT -->
        <div class="slds-hide section step1">
          <c-dv-medical-professional-information
            oncancelsubmit={handleCancelSubmit}
            onshowspinner={handleShowSpinner}
            onsavemedicalprofessionalinformationevent={handleSaveMedicalProfessionalInformationEvent}
          ></c-dv-medical-professional-information>
        </div>

        <!-- DIAGNOSIS COMPONENT -->
        <div class="slds-hide section step2">
          <c-dv-diagnosis
            oncancelsubmit={handleCancelSubmit}
            onshowspinner={handleShowSpinner}
            onsavediagnosisevent={handleSaveDiagnosisEvent}
          ></c-dv-diagnosis>
        </div>

        <!-- ADDITIONAL MEDICAL QUESTIONS COMPONENT -->
        <div class="slds-hide section step3">
          <c-dv-additional-medical-questions
            onsaveadditionalmedicalquestions={handleSaveAdditionalMedicalQuestionsEvent}
          ></c-dv-additional-medical-questions>
        </div>

        <!-- TRAVEL QUESTIONS COMPONENT -->
        <div class="slds-hide section step4">
          <c-dv-travel-questions
            onsavetravelquestionsaveevent={handleSaveTravelQuestionsEvent}
          ></c-dv-travel-questions>
        </div>
      </section>

      <!-- DIAGNOSIS VERIFICATION ACTIONS -->
      <section class="actions" if:true={isLoginSuccessful}>
        <c-navigation-previous-next
          if:true={isShowNavigation}
          onnavigationstepevent={handleNavigationStepEvent}
          process={process}
        ></c-navigation-previous-next>
      </section>
    </div>

    <!--<section if:true={isShowAcknowledgeStatements}>
      <lightning-input
        class="output"
        type="checkbox"
        name="SubmitCheckbox"
        label="By checking this box, I acknowledge that the following statements are
        true:"
        onchange={handleAcknowledgeCheckboxChange}
      ></lightning-input>
      <lightning-formatted-rich-text
        class="output"
        value={mpTypeLabel}
      ></lightning-formatted-rich-text>
      <lightning-formatted-rich-text
        class="output"
        value={directKnowledgeLabel}
      ></lightning-formatted-rich-text>
      <lightning-formatted-rich-text
        class="output"
        value={informationProvidedLabel}
      ></lightning-formatted-rich-text>
      <lightning-button
        if:true={isShowSubmit}
        value="Submit"
        label="Submit"
        variant="brand"
        onclick={handleValidations}
      ></lightning-button>
    </section>-->
  </div>

  <!-- CANCELED SUBMISSION SECTION-->
  <div class="cancelSection" if:true={isSubmitCanceled}>
    <p class="cancelMessage">
      Your form has been successfully saved. If you would like more information,
      please contact your local Make-A-Wish chapter. Click
      <a href="https://wish.org/local-chapters"> here</a> for a local chapter
      directory.
    </p>
  </div>
</template>
