function getRadioVal(e,a){for(var s,i=e.elements[a],r=0,t=i.length;r<t;r++)if(i[r].checked){s=i[r].value;break}return s}function isTextSelected(e){return"number"==typeof e.selectionStart?0==e.selectionStart&&e.selectionEnd==e.value.length:void 0!==document.selection?(e.focus(),document.selection.createRange().text==e.value):void 0}function stateFunc(){$("select.state option:first").remove(),$(".state").prepend('<option disabled="disabled" selected="selected">Please select a State</option>')}function resetSelect(){for(var e=document.querySelectorAll("select option"),a=0,s=e.length;a<s;a++)e[a].selected=e[a].defaultSelected}function formLogic(){function e(){var e=$(".radioSection input:checked").parent().text();" Self"==e&&($(".wcfirstname").val($(".rfirstname").val()),$(".wclastname").val($(".rlastname").val()))}function a(){var e=$(".radioSection input:checked").parent().text();" Parent/Guardian"==e&&($(".pfirstname1").val($(".rfirstname").val()),$(".plastname1").val($(".rlastname").val()),$(".pphone1").val($(".rphone").val()),$(".pemailaddress1").val($(".remail").val()),$(".pcity1").val($(".rcity").val()),$(".ppostalcode1").val($(".rpostalcode").val()))}function s(){$(".wcfirstname").val($(".rfirstname").val()),$(".wclastname").val($(".rlastname").val()),$(".wcfirstname").val()==$(".rfirstname").val()&&$(".wcfirstname").val(""),$(".wclastname").val()==$(".rlastname").val()&&$(".wclastname").val("")}function i(){$(".pfirstname").val($(".rfirstname").val()),$(".plastname").val($(".rlastname").val()),$(".pphone").val($(".rphone").val()),$(".pemailaddress").val($(".remail").val()),$(".pcity").val($(".rcity").val()),$(".ppostalcode").val($(".rpostalcode").val()),$(".pfirstname").val()==$(".rfirstname").val()&&$(".pfirstname").val(""),$(".plastname").val()==$(".rlastname").val()&&$(".plastname").val(""),$(".pphone").val()==$(".rphone").val()&&$(".pphone").val(""),$(".pemailaddress").val()==$(".remail").val()&&$(".pemailaddress").val(""),$(".pcity").val()==$(".rcity").val()&&$(".pcity").val(""),$(".ppostalcode").val()==$(".rpostalcode").val()&&$(".ppostalcode").val("")}function r(){function e(){$("input,select").removeClass("r2c-select firstname lastname phonechk email city state-chk address postalcode family-aware-chk medprovider r2c-manual-input wcgender wcage wcdob wcreceivedwish language siblings-chk icd pdiagnosis facility urgency sibage required d-month d-year").removeAttr("aria-required aria-describedby"),$("select[id$=aware-of-referral],select[id$=medprov],select[id$=p-r2c-2],input[id$=rfirstname],input[id$=frm\\:pfirstname],input[id$=frm\\:pfirstname2],input[id$=wcfirstname]input,[id$=mpfirstname],input[id$=rlastname],input[id$=frm\\:plastname],input[id$=frm\\:plastname2],input[id$=wclastname],input[id$=mplastname],input[id$=rphone],input[id$=pphonenumber],input[id$=pphonenumber2],input[id$=mpphone],input[id$=remail],input[id$=pemailaddress],input[id$=pemailaddress2],input[id$=pcity],input[id$=pcity2],input[id$=ppostalcode],input[id$=ppostalcode2],select[id$=p-state],select[id$=p-state2],input[id$=wcdob],select[id$=wcgender],input[id$=paddress],input[id$=paddress2],select[id$=plang],select[id$=plang2],input[id$=searchDiagnosisId],input[id$=mphospitalname],input[id$=psibfirstname],input[id$=psibfirstname2],input[id$=psiblastname],input[id$=psiblastname2],input[id$=psibage],input[id$=psibage2],select[id$=frm\\:diagnosisMonth],select[id$=frm\\:diagnosisYear],select[id$=urgency]").each(function(){$(this).rules("remove")})}var a=["[id$=aware-of-referral],[id$=wcage],[id$=wcreceivedwish],[id$=plang],[id$=plang2],[id$=nSib],[id$=nSib2],[id$=urgency],[id$=p-r2c-1],[id$=p-r2c-2],[id$=p-state],[id$=p-state2],[id$=diagnosisMonth],[id$=diagnosisYear]"];$("form[id$=frm]").validate().resetForm(),e(),resetSelect(a),$(".sibInfo").css("display","none"),$("[id$=aware-of-referral]").parent().parent().css("display","block"),$("[id$=aware-of-referral]").prop("selectedIndex",0);const s=$("[id$=p-state],[id$=p-state2]").parents().parents();$(s).removeClass("has-error").children(".col-md-3").children("label").css("color",""),$(s).children(".col-md-6").children(".chosen-container-single").children(".chosen-single").css("border",""),$(s).children(".col-md-6").children(".single").children(".chosen-single").css("border",""),$(s).children(".col-md-6").children(".chosen-container-multi").children(".chosen-multi").css("border",""),$(s).children(".col-md-6").children(".help-block").remove();const i=$("[id$=diagnosisMonth],[id$=diagnosisYear]").parents().parents();$(i).removeClass("has-error").children(".col-md-3").children("label").css("color",""),$(i).children(".col-sm-3").css("border",""),$(i).children(".col-sm-3").children(".help-block").remove()}function t(){var e=$(".childAge").val(),a=$(".radioSection input:checked").parent().text(),s=$.inArray(e,h);s>"-1"&&" Self"==a&&($(".alertMsg").text(f),$("#age13under-modal").modal("show"))}function d(){$("[id$=wcdob]").on("keyup",function(){function e(e){var a,s,i,r,t,l;i=new Date;var n=e.split("/"),o=n[0],c=n[1],p=n[2];if(o<1||o>12||c<1||c>31)return d=0,NaN;var $=new Date(p,o,0).getDate();return c>$?(d=0,NaN):(s=new Date(e),s.getTime()>i.getTime()?(d=0,NaN):(r=i.getFullYear()-s.getFullYear(),t=i.getMonth()-s.getMonth(),t<0&&(r-=1,t+=12),l=i.getDate()-s.getDate(),l<0&&(t-=1,t<0&&(r-=1,t+=12),a=new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),l=a-s.getDate()+i.getDate()),r>=18?d=5:r>=13&&r<18?d=4:r>=2&&r<13?d=r>=3?3:t>=6?2:1:0!=r&&1!=r||(d=1,r=1),r))}function a(){function a(){$(".alertMsg").text(u),$("#warningModal").modal("show")}var s=getRadioVal(document.getElementById("j_id0:frm"),"r2c-radio");$(".age-text").remove(),e(t),1==d?($(i).prop("selectedIndex",1),$('<span class="text-muted age-text">Under 2 1/2 years old</span>').insertAfter(r),a()):2==d?($(i).prop("selectedIndex",2),$('<span class="text-muted age-text">2 1/2 years old</span>').insertAfter(r),"Self"==s&&(console.log("between 2.5 - 13 years"),console.log("Self is selected"),$("#age13under-modal").modal("show"),$(".alertMsg").text(f))):5==d?($(i).prop("selectedIndex",19),$('<span class="text-muted age-text">Over 18 years old</span>').insertAfter(r),a()):3!=d&&4!=d||($(i).prop("selectedIndex",0),$(i).append('<option value="'+e(t)+'" selected="selected">'+e(t)+"</option>"),$('<span class="text-muted age-text">'+e(t)+" years old</span>").insertAfter(r),"Self"==s&&3==d&&(console.log("Self is selected"),console.log("between 2.5 - 13 years"),$(".alertMsg").text(f),$("#age13under-modal").modal("show"))),(e(t)<0||!e(t))&&($(".age-text").remove(),$('<span class="text-muted age-text" style="color:red">Oops! Invalid Birthdate</span>').insertAfter(r),p(function(){$("[id$=wcdob]").val(""),$(".age-text").fadeOut(300,function(){$(this).remove()}),$("[id$=wcdob]").unmask(),$("[id$=wcdob]").mask("99/99/9999",{placeholder:"mm/dd/yyyy"}),$(i).prop("selectedIndex",0)},1e3))}for(var s,i=$("[id$=wcage]"),r=$("[id$=wcdob]"),t=$("[id$=wcdob]").val(),d=(new Date,new Date(t),0),l=$(this).val(),n=0,o=["m","d","y"],c=l.indexOf("m")&&l.indexOf("d")&&l.indexOf("y"),p=(s=0,function(e,a){clearTimeout(s),s=setTimeout(e,a)});-1!==c;)n++,c=l.indexOf(o,c+1);0===n&&a()})}var l='<a href="https://wish.org/local-chapters#sm.000001nnnt2f0tf0tux692bqfeli5" target="_blank">Click here for a local chapter directory</a>',n="Please make sure the family is aware of this referral before you proceed. If you have additional questions please reach out to your local chapter. ",o="We recommend that you discuss potential eligibility with the childâ€™s treating healthcare provider before you proceed.If you have additional questions please reach out to your local chapter.",c=[" Self"," Medical Professional"," Parent/Guardian"," Family Member/Relative"," Other"],p=[" Self"," Parent/Guardian"," Family Member/Relative"],m=["Nurse Practitioner","Physician Assistant","Physician"],h=["2.5","3","4","5","6","7","8","9","10","11","12","13"],u="To be eligible, children must be older than 2½ years old and younger than 18 years old.",f="Please confirm that you have received your parent or guardians permission to complete this form.";$(".familyAware").on("change",function(){if("No"==$(this).val()){var e=$(".radioSection input:checked").parent().text(),a=$.inArray(e,c);$(".familyAwareError").css("display","block"),$(".medprovcat-other-wrap").css("display","none"),$(".medprovcat-other").val(""),a>-1?($(this).next(".familyAwareError").text(n).append($(l)),$(".shownOnYes").addClass("fam-aware-overlay")," Medical Professional"==e&&$(".medicalProvider").css("display","none")," Other"==e&&($(".r2c-manual-input").parent().parent().css("display","none"),$(this).next(".familyAwareError").text(n).append($(l)))):($(".familyAwareError, .medprovcat-other-wrap").css("display","none"),$(".medprovcat-other").val(""))}else if("Yes"==$(this).val()){e=$(".radioSection input:checked").parent().text();$(this).next("span").text("")," Medical Professional"==e&&$(".medicalProvider").css("display","block")," Other"==e&&$(".r2c-manual-input").parent().parent().removeClass("displayNone").css("display","block")}else $(".shownOnYes").addClass("fam-aware-overlay"),$(".familyAwareError").css("display","none")}),$(".discussedProvider").on("change",function(){if("No"==$(this).val()){var e=$(".radioSection input:checked").parent().text(),a=$.inArray(e,c);$(".discussedProviderError").css("display","block"),$(".medprovcat-other-wrap").css("display","none"),$(".medprovcat-other").val(""),a>-1?($(this).next(".discussedProviderError").text(o).append($(l)),$(".shownOnYes").addClass("fam-aware-overlay")," Medical Professional"==e&&$(".medicalProvider").css("display","none")," Other"==e&&($(".r2c-manual-input").parent().parent().css("display","none"),$(this).next(".discussedProviderError").text(o).append($(l)))):($(".discussedProviderError, .medprovcat-other-wrap").css("display","none"),$(".medprovcat-other").val(""))}else if("Yes"==$(this).val()){e=$(".radioSection input:checked").parent().text();$(this).next("span").text("")," Medical Professional"==e&&$(".medicalProvider").css("display","block")," Other"==e&&$(".r2c-manual-input").parent().parent().removeClass("displayNone").css("display","block")}else $(".shownOnYes").addClass("fam-aware-overlay"),$(".discussedProviderError").css("display","none")}),$("#j_id0\\:frm\\:wcgender").on("change",function(){null!=$(this).val()&&(-1!=$(this).val().indexOf("Self-describe")?($(".self-desc").prop("hidden",!1),$(".self-desc-field").addClass("selfdescreq")):($(".self-desc").prop("hidden",!0),$(".self-desc-field").removeClass("selfdescreq").val("")),formValidationRules())}),$(".medprovcat-other-wrap").css("display","none"),$("[id$=medprov]").on("change",function(){null!=$(this).val()&&(-1!=$(this).val().indexOf("Other")?$(".medprovcat-other-wrap").css("display","block"):($(".medprovcat-other-wrap").css("display","none"),$(".medprovcat-other").val("")))}),$(".medProvCat").on("change",function(){var e=$(".medProvCat").val(),a=$.inArray(e,m);a>-1?$(".repeatMedProf").css("display","block"):$(".repeatMedProf").css("display","none")}),$(".repeatMedProf").on("change",function(){checkVisible=$(".repeatMedProf input").is(":checked"),1==checkVisible?($(".mfirstname").val($(".rfirstname").val()),$(".mlastname").val($(".rlastname").val()),$(".mphone").val($(".rphone").val()),$(".memail").val($(".remail").val())):0==checkVisible&&$(".medToRepeat :input").each(function(){$(this).val("")})}),$(".refToRepeat :input").on("keyup",e),$(".clone-guardian-1 input").click(function(){$(this).is(":checked")?($("[id$=paddress2]").val($("[id$=paddress]").val()),$("[id$=pcity2]").val($("[id$=pcity]").val()),$("[id$=p-state2]").val($("[id$=p-state]").val()),$("[id$=ppostalcode2]").val($("[id$=ppostalcode]").val())):($("[id$=paddress2], [id$=pcity2], [id$=ppostalcode2]").val(""),$("[id$=p-state2]").prop("selectedIndex",0))}),$(".refToParent :input").on("keyup",a),$("[id$=nSib],[id$=nSib2]").on("change",function(){function e(e,a,s){var i=0,r=window.setInterval(function(){e(),++i===s&&window.clearInterval(r)},a)}var a=getRadioVal(document.getElementById("j_id0:frm"),"r2c-radio");""!=$(this).val()||"0"!=$(this).val()||"Unknown"!=$(this).val()?($(".sibInfo").css("display","block"),"Self"!=a&&"Parent/Guardian"!=a||(console.log("self or parent/guardian selected"),e(function(){$("[id$=psibfirstname],[id$=psibfirstname2]").addClass("firstname"),$("[id$=psiblastname],[id$=psiblastname2]").addClass("lastname"),$("[id$=psibage],[id$=psibage2]").addClass("sibage"),formValidationRules()},100,3))):($(".sibInfo").css("display","none"),e(function(){$("[id$=psibfirstname],[id$=psibfirstname2]").removeClass("firstname"),$("[id$=psiblastname],[id$=psiblastname]").removeClass("lastname"),$("[id$=psibage],[id$=psibage]").removeClass("sibage"),$("input[id$=psibfirstname],input[id$=psibfirstname2],input[id$=psiblastname],input[id$=psiblastname2],input[id$=psibage],input[id$=psibage2]").each(function(){$(this).rules("remove")})},100,3))}),$(".radioClickable input").click(function(){var l=$(".radioSection input:checked").parent().text(),n=$.inArray(l,p);r(),$(".guardian-2").css("display"),$("[id$=wcage]").parents(".form-group").addClass("sr-only"),$(".shownOnYes").addClass("fam-aware-overlay"),$(".familyAwareError").css("display","none"),d(),$(".medprovcat-other-wrap, .other, .main-office-contact, .medical-additional-info").css("display","none"),""!=l&&$(".Relchild").val(l),n>-1&&($(".referrerInfo").css("display","block"),$(".medicalProvider,.other").css("display","none"),-1!=n&&2!=n||(s(),i())),$("[id$=rphone],[id$=pphonenumber],[id$=pphonenumber2],[id$=mpphone]").addClass("phonechk-std"),$("[id$=remail],[id$=mpemail],[id$=pemailaddress],[id$=pemailaddress2]").addClass("email-std")," Medical Professional"==l?($(".medProvCat").val(""),$(".medProvCat").find("option:first").remove(),$(".medProvCat").prepend('<option disabled="disabled" selected="selected">Please select an option</option>'),$(".referrerInfo, .medicalProvider, .main-office-contact").css("display","block"),$(".other").css("display","none"),$("[id$=aware-of-referral]").addClass("family-aware-chk"),$("[id$=medprov]").addClass("medprovider"),$(".medical-additional-info").show(),$("[id$=rfirstname],[id$=frm\\:pfirstname],[id$=frm\\:pfirstname2],[id$=wcfirstname],[id$=mplastname]").addClass("firstname"),$("[id$=rlastname],[id$=frm\\:plastname],[id$=frm\\:plastname2],[id$=wclastname],[id$=mplastname]").addClass("lastname"),$("[id$=rphone],[id$=pphonenumber],[id$=pphonenumber2],[id$=mpphone]").hasClass("phonechk-std")&&($("[id$=rphone],[id$=pphonenumber],[id$=pphonenumber2],[id$=mpphone]").removeClass("phonechk-std"),$("[id$=rphone],[id$=pphonenumber],[id$=mpphone]").addClass("phonechk")),$("[id$=remail]").hasClass("email-std")&&($("[id$=remail]").removeClass("email-std"),$("[id$=remail]").addClass("email")),$("[id$=pcity]").addClass("city"),$("[id$=ppostalcode]").addClass("postalcode"),$("[id$=p-state]").addClass("state-chk"),$("[id$=wcdob]").addClass("wcdob"),$("[id$=wcgender]").addClass("wcgender"),$("[id$=paddress]").addClass("address"),$("[id$=plang],[id$=plang2]").addClass("language"),$("[id$=searchDiagnosisId]").addClass("pdiagnosis"),$("[id$=urgency]").addClass("urgency"),$("[id$=mphospitalname]").addClass("facility"),formValidationRules(),s(),i()):" Other"==l?($(".other input").val(""),$(".referrerInfo,.other").css("display","block"),$(".medicalProvider").css("display","none"),$("[id$=aware-of-referral]").addClass("family-aware-chk"),$("[id$=r2cManualInput]").addClass("r2c-manual-input"),$("[id$=rfirstname],[id$=wcfirstname],[id$=frm\\:pfirstname],[id$=frm\\:pfirstname2]").addClass("firstname"),$("[id$=rlastname],[id$=frm\\:plastname],[id$=frm\\:plastname2],[id$=wclastname]").addClass("lastname"),$("[id$=rphone]").hasClass("phonechk-std")&&($("[id$=rphone]").removeClass("phonechk-std"),$("[id$=rphone]").addClass("phonechk")),$("[id$=remail]").hasClass("email-std")&&($("[id$=remail]").removeClass("email-std"),$("[id$=remail]").addClass("email")),$("[id$=rcity]").addClass("city"),$("[id$=rpostalcode]").addClass("postalcode"),$("[id$=urgency]").addClass("urgency"),formValidationRules(),$("[id$=searchDiagnosisId]").addClass("pdiagnosis"),$("[id$=wcage]").parents(".form-group").removeClass("sr-only"),$(".repeatMedProf").css("display","none"),s(),i()):" Self"!=l&&" Parent/Guardian"!=l&&" Family Member/Relative"!=l||($("[id$=rfirstname],[id$=frm\\:pfirstname],[id$=frm\\:pfirstname2],[id$=wcfirstname]").addClass("firstname"),$("[id$=rlastname],[id$=frm\\:plastname],[id$=frm\\:plastname2],[id$=wclastname],[id$=mplastname]").addClass("lastname"),$("[id$=rphone],[id$=pphonenumber],[id$=pphonenumber2]").hasClass("phonechk-std")&&($("[id$=rphone],[id$=pphonenumber],[id$=pphonenumber2]").removeClass("phonechk-std"),$("[id$=rphone],[id$=pphonenumber]").addClass("phonechk")),$("[id$=remail]").hasClass("email-std")&&($("[id$=remail]").removeClass("email-std"),$("[id$=remail]").addClass("email")),$("[id$=pcity]").addClass("city"),$("[id$=ppostalcode]").addClass("postalcode"),$("[id$=p-state]").addClass("state-chk"),$("[id$=nSib],[id$=nSib2],[id$=psibfirstname],[id$=psibfirstname2],[id$=psiblastname],[id$=psiblastname2],[id$=psibage],[id$=psibage2]").addClass("sibling-chk"),$("[id$=wcdob]").addClass("wcdob"),$("[id$=wcgender]").addClass("wcgender"),$("[id$=paddress]").addClass("address"),$("[id$=plang],[id$=plang2]").addClass("language"),$("[id$=searchDiagnosisId]").addClass("pdiagnosis"),$("[id$=mphospitalname]").addClass("facility"),$("[id$=urgency]").addClass("urgency"),$(".repeatMedProf").css("display","none")," Self"!=l&&" Family Member/Relative"!=l||$("[id$=aware-of-referral]").addClass("family-aware-chk")," Self"==l&&(e(),t(),i())," Family Member/Relative"==l&&($("[id$=r2cManualInput]").addClass("r2c-manual-input").val(""),$(".other").css("display","block"))," Parent/Guardian"==l&&($(".shownOnYes").removeClass("fam-aware-overlay"),$("[id$=aware-of-referral]").removeClass("family-aware-chk"),$("[id$=aware-of-referral]").parent().parent().css("display","none"),$('[id$=aware-of-referral] option[value="Yes"]').prop("selected",!0)),formValidationRules(),a(),s())}),$(".childAge").on("change",function(){var e=$("age-text").text();"Under 2.5"!=$(this).val()&&"18 & Above"!=$(this).val()||($(".alertMsg").text(u),$("#warningModal").modal("show")),$("select.childAge").val()!=e&&($("[id$=wcdob]").val(""),$(".age-text").fadeOut(300,function(){$(this).remove()}),$("[id$=wcdob]").unmask(),$("[id$=wcdob]").mask("99/99/9999",{placeholder:"mm/dd/yyyy"})),t()})}function PrimaryDiagnosis(){function e(){i.css("border","").removeAttr("aria-required aria-describedby"),i.parents().removeClass("has-error"),i.parents(".primaryDiagnosis").children(".col-sm-3").children("label").css("color",""),i.next(".error").remove()}var a,s,i=$("[id$=searchDiagnosisId]"),r=$("[id$=diagnosisTextId]");r.autocomplete({minLength:2,source:function(e,i){s=e.term,WishReferralForm_AC.searchDiagnosis(e.term,function(e,s){"exception"==s.type?alert(s.message):(a=e,i(a))})},response:function(e,a){a.content.push({label:"Please select a ICD code below",value:""})},select:function(a,s){var t=s.item.Condition_Description__c;if(i.val(""),i.prop("disabled",!0),r.addClass("value-selected"),i.addClass("value-selected"),r.val(s.item.Name),$("[id$=shortTextId]").html("Description: "+s.item.Short_Description__c).text(),$(".primary-diagnosis-other").prop("hidden",!0),$(".primary-diagnosis-other").find("textarea").val(""),e(),void 0!==t){i.val(s.item.Condition_Description__r.Name);var d=$(".searchDiagnosisId").html(s.item.Condition_Description__r.Name).text();i.val(d),i.prop("disabled",!0),e()}return!1}}).data("ui-autocomplete")._renderItem=function(e,a){var i="<a>"+a.Name;return i+="</a>",i=i.replace(s,"<b>"+s+"</b>"),""==a.value?$('<li class="ui-state-disabled option-disabled">'+a.label+"</li>").prependTo(e):$("<li></li>").data("ui-autocomplete-item",a).append(i).appendTo(e)},r.keydown(function(e){if(!$(this).hasClass("value-selected")&&i.hasClass("value-selected")||9==e.keyCode||($(this).removeClass("value-selected"),i.removeClass("value-selected"),i.val(""),i.prop("disabled",!1),$("[id$=shortTextId]").text("")),9==e.keyCode&&$(this).hasClass("value-selected")||""==$(this).val())return!0;9==e.keyCode&&e.preventDefault()}),i.keydown(function(e){if(($(this).hasClass("value-selected")&&9!=e.keyCode||""==$(this).val())&&($(this).removeClass("value-selected"),r.removeClass("value-selected"),0==r.hasClass("value-selected")&&(r.val(""),r.prop("disabled",!1),$("[id$=shortTextId]").text(""))),9==e.keyCode&&$(this).hasClass("value-selected")||""==$(this).val())return!0;9==e.keyCode&&e.preventDefault()}),$("body").change("click",function(e){if(i.hasClass("value-selected"),r.hasClass("value-selected")){if(!r.hasClass("value-selected")&&i.hasClass("value-selected"))return}else e.srcElement&&e.srcElement.tagName&&("INPUT"==e.srcElement.tagName&&"SELECT"==e.srcElement.tagName||(r.val(""),r.prop("disabled",!1)))}),i.autocomplete({minLength:2,source:function(e,i){s=e.term,WishReferralForm_AC.searchCondition(e.term,function(e,s){"exception"==s.type?alert(s.message):(a=e,i(a))})},response:function(e,a){a.content.push({label:"Please select a diagnosis below",value:""})},select:function(e,a){var s=a.item.Code_To_Use__c,t=/^(Other )(.*)$/i.test(a.item.Name),d=/^(Not Listed)$/i.test(a.item.Name),l=$(".searchDiagnosisId").html(a.item.Name).text();return r.val(""),r.prop("disabled",!1),i.val(a.item.Name),i.val(l),i.addClass("value-selected"),r.focus(),void 0!==s&&(r.val(a.item.Code_To_Use__c),r.prop("disabled",!0)),t||d?$(".primary-diagnosis-other").prop("hidden",!1):($(".primary-diagnosis-other").prop("hidden",!0),$(".primary-diagnosis-other").find("textarea").val("")),!1}}).data("ui-autocomplete")._renderItem=function(e,a){var i="<a>"+a.Name;return i+="</a>",i=i.replace(s,"<b>"+s+"</b>"),""==a.value?$('<li class="ui-state-disabled option-disabled">'+a.label+"</li>").prependTo(e):$("<li></li>").data("ui-autocomplete-item",a).append(i).appendTo(e)}}function formValidationRules(){$("select.r2c-select").each(function(){$(this).rules("add",{required:!0,messages:{required:"Oops! Please select the relationship to the child"}})}),$("input.firstname").each(function(){$(this).rules("add",{required:!0,minlength:2,maxlength:40,messages:{required:"Oops! Please enter a first name",minlength:"Oops! Your first name must have more than 2 letters",maxlength:"We're sorry, you've reached the maximum allowed characters"}})}),$("input.lastname").each(function(){$(this).rules("add",{required:!0,minlength:2,maxlength:40,messages:{required:"Oops! Please enter a last name",minlength:"Oops! Your first name must have more than 2 letters",maxlength:"We're sorry, you've reached the maximum allowed characters"}})}),$("input.phonechk-std").each(function(){$(this).rules("add",{required:!1,minlength:10,maxlength:14,messages:{number:"Only numbers are accepted",minlength:"Oops! Please enter at least 10 digits",maxlength:"We're sorry, you've reached the maximum allowed characters"}})}),$("input.phonechk").each(function(){$(this).rules("add",{required:!0,minlength:10,maxlength:14,messages:{required:"Oops! Please enter a phone number",number:"Only numbers are accepted",minlength:"Oops! Please enter at least 10 digits",maxlength:"We're sorry, you've reached the maximum allowed characters"}})}),$("input.email-std").each(function(){$(this).rules("add",{required:!1,email:!0,messages:{email:"Oops! You've entered an invalid email address"}})}),$("input.email").each(function(){$(this).rules("add",{required:!0,email:!0,messages:{required:"Oops! Please enter a valid email address",email:"Oops! You've entered an invalid email address"}})}),$("input.address").each(function(){$(this).rules("add",{required:!0,minlength:5,maxlength:40,messages:{required:"Oops! Please enter an address",minlength:"Oops! Please enter a minimum of 5 characters",maxlength:"We're sorry, you've reached the maximum allowed characters"}})}),$("select.state-chk").each(function(){$(this).rules("add",{required:!0,messages:{required:"Oops! Please select a state"}})}),$("input.city").each(function(){$(this).rules("add",{required:!0,minlength:3,maxlength:22,messages:{required:"Oops! Please enter a US city",minlength:"Oops! Please enter at least 3 characters",maxlength:"We're sorry, you've reached the maximum allowed characters"}})}),$("input.postalcode-std").each(function(){$(this).rules("add",{required:!1,digits:!0,minlength:5,maxlength:9,messages:{required:"Oops! Please enter a valid US postal code",digits:"Oops! Please only enter digits",minlength:"Oops! Please enter a minimum of 5 digits",maxlength:"We're sorry, you've reached the maximum allowed characters"}})}),$("input.postalcode").each(function(){$(this).rules("add",{required:!0,zipcode:!0,minlength:5,maxlength:10,messages:{required:"Oops! Please enter a valid US postal code",minlength:"Oops! Please enter a minimum of 5 digits",maxlength:"We're sorry, you've reached the maximum allowed characters"}})}),$("input.sibage").each(function(){$(this).rules("add",{required:!0,digits:!0,minlength:1,maxlength:2,messages:{required:"Oops! Please enter this sibling's age",digits:"Oops! Please only enter digits",minlength:"Oops! Please enter a minimum of 2 digits",maxlength:"We're sorry, you've reached the maximum allowed characters"}})}),$("input.r2c-radio").rules("add",{required:!0,messages:{required:"Oops! Please select an option"}}),$("select.family-aware-chk").rules("add",{required:!0,messages:{required:"Oops! Please select an option"}}),$("select.medprovider").rules("add",{required:!0,messages:{required:"Oops! Please select an option"}}),$("input.medprovcat-other").rules("add",{required:!0,messages:{required:"Oops! Please enter the other medical provider category"}}),$("input.r2c-manual-input").rules("add",{required:!0,minlength:3,maxlength:20,messages:{required:"Oops! Please enter your relationship to the Wish Child",minlength:"Oops! Please enter a minimum of 3 characters",maxlength:"We're sorry, you've reached the maximum allowed characters"}}),$("select.wcage").rules("add",{required:!0,messages:{required:"Oops! Please select the wish child's age"}}),$("select.wcgender").rules("add",{required:!0,messages:{required:"Oops! The child's gender is required"}}),$("input.wcdob").rules("add",{required:!0,date:!0,messages:{required:"Oops! The child's date of birth is required",date:"Oops! Please enter a valid date in the correct format"}}),$("input.wcreceivedwish").rules("add",{required:!0,messages:{required:"Oops! This question is required"}}),$("select.language").rules("add",{required:!0,messages:{required:"Oops! Please select a language"}}),$("select.siblings-chk").rules("add",{required:!0,messages:{required:"Oops! Please select the number of siblings"}}),$("input.icd").rules("add",{required:!0,minlength:3,messages:{required:"Oops! Please enter an ICD code",minlength:"Oops! Please enter a minimum of 3 characters"}}),$("input.pdiagnosis").rules("add",{required:!0,minlength:3,messages:{required:"Oops! Please enter a primary diagnosis",minlength:"Oops! Please enter a minimum of 3 characters"}}),$("input.facility").rules("add",{required:!0,minlength:3,messages:{required:"Oops! Please enter the name of the hospital or treatment facility",minlength:"Oops! Please enter a minimum of 3 characters"}}),$("select.urgency").rules("add",{required:!0,messages:{required:"Oops! Please select an option"}}),$("input.notqualto").rules("add",{notEqual:!0}),$("select.d-month").rules("add",{required:!0,messages:{required:"Oops! Please select a month"}}),$("select.d-year").rules("add",{required:!0,messages:{required:"Oops! Please select a year"}}),$("textarea.selfdescreq").rules("add",{required:!0,messages:{required:"Oops! Please enter a description pertaining to 'Self-describe'"}}),$(".primary-diagnosis-other textarea").rules("add",{required:function(){return"Not Listed"==$("[id$=searchDiagnosisId]").val()||$("[id$=searchDiagnosisId]").val().toLowerCase().indexOf("other")>=0},messages:{required:"Oops! Please enter a primary diagnosis description"}})}$("[id$=wcdob]").removeAttr("onfocus").mask("99/99/9999",{placeholder:"mm/dd/yyyy"}),$("[id$=email],[id$=pemailaddress],[id$=pemailaddress2],[id$=mpemail]").attr("type","email"),$(".main-office-contact").css("display","none"),$(".r2c fieldset table tr td").children().unwrap().unwrap().unwrap().unwrap().unwrap(),$(".r2c input:first").clone().prependTo(".r2c label:first"),$(".r2c input:nth-child(3)").clone().prependTo(".r2c label:nth-child(4)"),$(".r2c input:nth-child(5)").clone().prependTo(".r2c label:nth-child(6)"),$(".r2c input:nth-child(7)").clone().prependTo(".r2c label:nth-child(8)"),$(".r2c input:nth-child(9)").clone().prependTo(".r2c label:nth-child(10)"),$(".r2c > input").remove(),$(".r2c label").addClass("col-xs-12 col-sm-6"),$(".r2c label input").attr("name","r2c-radio"),$(".r2c-radio").click(function(){$(".familyAware").parent().parent().show()}),formLogic(),$("select").not(".state,.multi").each(function(){$(this).find("option:first").remove(),"j_id0:frm:diagnosisYear"==$(this).attr("id")?$("#j_id0\\:frm\\:diagnosisYear").prepend('<option value="">Year</option>'):"j_id0:frm:diagnosisMonth"==$(this).attr("id")?$("#j_id0\\:frm\\:diagnosisMonth").prepend('<option value="">Month</option>'):$(this).prepend("<option selected disabled>Please select an option</option>")}),$("[id$=diagnosisMonth]").on("change",function(){var e=$("[id$=diagnosisYear]");""!=$(this).val()?(e.addClass("d-year"),formValidationRules()):(resetSelect(e),e.rules("remove"),e.removeAttr("aria-required aria-describedby aria-invalid").removeClass("d-year").valid())}),$("[id$=diagnosisYear]").on("change",function(){var e=$("[id$=diagnosisMonth]");""!=$(this).val()?(e.addClass("d-month"),formValidationRules()):(e.rules("remove"),e.removeAttr("aria-required aria-describedby aria-invalid").removeClass("d-month").valid())}),$(".numbers-only").keydown(function(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,110])||65==e.keyCode&&!0===e.ctrlKey||67==e.keyCode&&!0===e.ctrlKey||88==e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105||191==e.keyCode)&&e.preventDefault()}),$(".alpha-only").keydown(function(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,110,190,32])||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||67==e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||88==e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||e.keyCode>=35&&e.keyCode<=39||e.shiftKey||(e.keyCode<65||e.keyCode>90)&&e.preventDefault()}),$(".phonemask").keydown(function(e){isTextSelected(this)&&$(this).val(""),0==$(this).val().length&&8!=e.keyCode?$(this).val($(this).val()+"("):4==$(this).val().length&&8!=e.keyCode?$(this).val($(this).val()+") "):9==$(this).val().length&&8!=e.keyCode&&$(this).val($(this).val()+"-"),((2==$(this).val().length||11==$(this).val().length)&&8==e.keyCode||2==$(this).val().length&&9==e.keyCode)&&$(this).val($(this).val().substring(0,$(this).val().length-1)),7==$(this).val().length&&8==e.keyCode&&$(this).val($(this).val().substring(0,$(this).val().length-2)),14!=$(this).val().length&&9==e.keyCode&&$(this).val("")}),$(".phonemask").attr("maxlength","14"),$(".guardian-2").css("display","block"),$(".add-guardian").parents(".connected").prop("hidden",!0),$(".add-guardian").on("click",function(e){e.preventDefault(),$("input[id$=frm\\:pfirstname2],input[id$=frm\\:plastname2],input[id$=pphonenumber2],input[id$=pemailaddress2],input[id$=pcity2],input[id$=ppostalcode2],select[id$=p-state2],input[id$=paddress2],select[id$=plang2],input[id$=psibfirstname2],input[id$=psiblastname2],input[id$=psibage2]").val(""),$("[id$=p-state2]").prop("selectedIndex",0),$(this).parents(".connected").prop("hidden",!0),$(".guardian-2").css("display","block"),"Select an option"==$("[id$=p-state2] option:nth-child(2)").text()&&$("[id$=p-state2] option:nth-child(2)").remove(),$("select[id$=p-r2c-2]").prop("selectedIndex",0),formValidationRules()}),
$(".remove-block").on("click",function(e){e.preventDefault(),$(".add-guardian").parents(".connected").prop("hidden",!1),$(".guardian-2").css("display","none"),$("input[id$=frm\\:pfirstname2],input[id$=frm\\:plastname2],input[id$=pphonenumber2],input[id$=pemailaddress2],input[id$=pcity2],input[id$=ppostalcode2],select[id$=p-state2],select[id$=p-r2c-2],input[id$=paddress2],select[id$=plang2],input[id$=psibfirstname2],input[id$=psiblastname2],input[id$=psibage2]").val(""),$("[id$=p-state2]").prop("selectedIndex",0)}),stateFunc(),$("select.multi").chosen({disable_search:!0,placeholder_text_multiple:"Please select all that apply",width:"100%"}),$("select.multi").find("option:first").prop("disabled",!0).trigger("chosen:updated"),function(){var e=$("select.multi").chosen().data("chosen"),a=!1;if(e&&e.hasOwnProperty("result_select")){var s=e.result_select;e.result_select=function(i){var r=null;0==a&&(i.metaKey=!0,i.ctrlKey=!0,r=e.result_highlight);var t=s.call(e,i);return 0==a&&null!=r&&r.addClass("result-selected"),t}}}(),formLogic(),PrimaryDiagnosis(),$(".submitBtn").click(function(){$(".searchDiagnosisId").val($(".pdiagnosis").val()),$(".diagnosisFilter").val($(".diagnosisText").val())}),$(".fs").hide(),jQuery.extend(jQuery.validator.messages,{required:"Oops! This field is required",email:"Oops! Please enter a valid email address",url:"Oops! Please enter a valid URL",date:"Oops! Please enter a valid date",number:"Oops! Please enter a valid number",digits:"Please enter only digits"}),$.validator.addMethod("zipcode",function(e,a){return this.optional(a)||/^\d{5}(?:-\d{4})?$/.test(e)},"Oops! Please enter a valid US postal code"),$.validator.addMethod("notEqual",function(e,a){return this.optional(a)||$(".memail").val()!=$(".bemail").val()},"Oops! Please enter an email address different from the Treating Medical Professional's email address"),$("form[id$=frm]").validate({ignore:":hidden",errorElement:"em",errorPlacement:function(e,a){if(e.addClass("help-block"),a.parents(".col-sm-6,.col-sm-3").addClass("has-feedback"),"radio"===a.prop("type"))e.insertBefore(a.parents(".r2c"));else if(a.hasClass("c-select")&&a.hasClass("multi")){var s=$(a).parents(".col-sm-6").children(".multi");e.insertAfter(s)}else e.insertAfter(a)},highlight:function(e,a,s){var i=$(e).parents(".col-sm-3, .col-sm-6, .col-xs-8.col-sm-4, .r2c, td, .dateInput");$(i).removeClass("has-success").addClass("has-error").prev("label").css("color","red"),$(i).removeClass("has-success").addClass("has-error").parents(".sibInfo").children("span").children("span").children("label").css("color","red"),$(i).removeClass("has-success").addClass("has-error").prev("div").children("label").css("color","red"),$(i).removeClass("has-success").addClass("has-error").prev("div").prev("label").css("color","red"),$(i).children(".chosen-container-single").children(".chosen-single").css("border","1px solid red"),$(i).children("select.single").css("border","1px solid red"),$(i).children(".chosen-container-multi").children(".chosen-multiple").css("border","1px solid red"),$(i).children("input, select, textarea").css("border","1px solid red"),$(i).children("label").css("border","1px solid red")},unhighlight:function(e,a,s){var i=$(e).parents(".col-sm-3, .col-sm-6, .col-xs-8.col-sm-4, .col-sm-1, .r2c, td, .dateInput");$(i).removeClass("has-error").prev("label").css("color",""),$(i).removeClass("has-error").parents(".sibInfo").children("span").children("span").children("label").css("color",""),$(i).removeClass("has-error").prev("div").children("label").css("color",""),$(i).removeClass("has-success").addClass("has-error").prev("div").prev("label").css("color",""),$(i).children(".chosen-container-single").children(".chosen-single").css("border",""),$(i).children("select.single").css("border",""),$(i).children(".chosen-container-multiple").children(".chosen-multiple").css("border",""),$(i).children("input, select, textarea").css("border",""),$(i).children(".help-block").remove()},submitHandler:function(){if(1==$("#b98084695645e0e89ec5a2f3c41f0a2d").is(":checked")||"udh&6**33#"!==$("#2-b98084695645e0e89ec5a2f3c41f0a2d").val());else if($("form[id$=frm]").valid())return $(".submitBtn").css({cursor:"not-allowed",opacity:".5"}).addClass("disabled").prop("disabled",!0),void form.submit()}}),$(".r2c").children("label").children("input").addClass("r2c-radio"),$("[id$=p-r2c-1]").addClass("r2c-select"),formValidationRules();