$("[id$=wcdob]").removeAttr("onfocus").mask("99/99/9999",{placeholder:"mm/dd/yyyy"});$("[id$=email],[id$=pemailaddress],[id$=pemailaddress2],[id$=mpemail]").attr("type","email");$(".main-office-contact").css("display","none");$(".r2c fieldset table tr td").children().unwrap().unwrap().unwrap().unwrap().unwrap();$(".r2c input:first").clone().prependTo(".r2c label:first");$(".r2c input:nth-child(3)").clone().prependTo(".r2c label:nth-child(4)");$(".r2c input:nth-child(5)").clone().prependTo(".r2c label:nth-child(6)");$(".r2c input:nth-child(7)").clone().prependTo(".r2c label:nth-child(8)");$(".r2c input:nth-child(9)").clone().prependTo(".r2c label:nth-child(10)");$(".r2c > input").remove();$(".r2c label").addClass("col-xs-12 col-sm-6");$(".r2c label input").attr("name","r2c-radio");$(".r2c-radio").click(function(){$(".familyAware").parent().parent().show()});function getRadioVal(d,b){var e;var f=d.elements[b];for(var c=0,a=f.length;c<a;c++){if(f[c].checked){e=f[c].value;break}}return e}$("select").not(".state").each(function(){$(this).find("option:first").remove();if($(this).attr("id")=="j_id0:frm:diagnosisYear"){$("#j_id0\\:frm\\:diagnosisYear").prepend('<option value="">Year</option>')}else{if($(this).attr("id")=="j_id0:frm:diagnosisMonth"){$("#j_id0\\:frm\\:diagnosisMonth").prepend('<option value="">Month</option>')}else{$(this).prepend("<option selected disabled>Please select an option</option>")}}});$("[id$=diagnosisMonth]").on("change",function(){var a=$("[id$=diagnosisYear]");if($(this).val()!=""){a.addClass("d-year");formValidationRules()}else{resetSelect(a);a.rules("remove");a.removeAttr("aria-required aria-describedby aria-invalid").removeClass("d-year").valid()}});$("[id$=diagnosisYear]").on("change",function(){var a=$("[id$=diagnosisMonth]");if($(this).val()!=""){a.addClass("d-month");formValidationRules()}else{a.rules("remove");a.removeAttr("aria-required aria-describedby aria-invalid").removeClass("d-month").valid()}});$(".numbers-only").keydown(function(a){if($.inArray(a.keyCode,[46,8,9,27,13,110])!==-1||(a.keyCode==65&&a.ctrlKey===true)||(a.keyCode==67&&a.ctrlKey===true)||(a.keyCode==88&&a.ctrlKey===true)||(a.keyCode>=35&&a.keyCode<=39)){return}else{if((a.shiftKey||(a.keyCode<48||a.keyCode>57))&&(a.keyCode<96||a.keyCode>105||(a.keyCode==191))){a.preventDefault()}}});$(".alpha-only").keydown(function(a){if($.inArray(a.keyCode,[46,8,9,27,13,110,190,32])!==-1||(a.keyCode===65&&(a.ctrlKey===true||a.metaKey===true))||(a.keyCode==67&&(a.ctrlKey===true||a.metaKey===true))||(a.keyCode==88&&(a.ctrlKey===true||a.metaKey===true))||(a.keyCode>=35&&a.keyCode<=39)||a.shiftKey){return}if(a.keyCode<65||a.keyCode>90){a.preventDefault()}});function isTextSelected(a){if(typeof a.selectionStart=="number"){return a.selectionStart==0&&a.selectionEnd==a.value.length}else{if(typeof document.selection!="undefined"){a.focus();return document.selection.createRange().text==a.value}}}$(".phonemask").keydown(function(a){if(isTextSelected(this)){$(this).val("")}if(($(this).val().length==0)&&(a.keyCode!=8)){$(this).val($(this).val()+"(")}else{if(($(this).val().length==4)&&(a.keyCode!=8)){$(this).val($(this).val()+") ")}else{if(($(this).val().length==9)&&(a.keyCode!=8)){$(this).val($(this).val()+"-")}}}if((($(this).val().length==2||$(this).val().length==11)&&a.keyCode==8)||(($(this).val().length==2)&&a.keyCode==9)){$(this).val($(this).val().substring(0,$(this).val().length-1))}if(($(this).val().length==7)&&(a.keyCode==8)){$(this).val($(this).val().substring(0,$(this).val().length-2))}if(($(this).val().length)!=14&&(a.keyCode==9)){$(this).val("")}});$(".phonemask").attr("maxlength","14");$(".guardian-2").css("display","none");$(".add-guardian").on("click",function(a){a.preventDefault();$("input[id$=frm\\:pfirstname2],input[id$=frm\\:plastname2],input[id$=pphonenumber2],input[id$=pemailaddress2],input[id$=pcity2],input[id$=ppostalcode2],select[id$=p-state2],input[id$=paddress2],select[id$=plang2],input[id$=psibfirstname2],input[id$=psiblastname2],input[id$=psibage2]").val("");$("[id$=p-state2]").prop("selectedIndex",0);$(this).parents(".connected").prop("hidden",true);$(".guardian-2").css("display","block");if($("[id$=p-state2] option:nth-child(2)").text()=="Select an option"){$("[id$=p-state2] option:nth-child(2)").remove()}$("select[id$=p-r2c-2]").prop("selectedIndex",0);$("select[id$=p-r2c-2]").addClass("r2c-select");formValidationRules()});$(".remove-block").on("click",function(a){a.preventDefault();$(".add-guardian").parents(".connected").prop("hidden",false);$(".guardian-2").css("display","none");$("select[id$=p-r2c-2]").removeClass("r2c-select");$("input[id$=frm\\:pfirstname2],input[id$=frm\\:plastname2],input[id$=pphonenumber2],input[id$=pemailaddress2],input[id$=pcity2],input[id$=ppostalcode2],select[id$=p-state2],input[id$=paddress2],select[id$=plang2],input[id$=psibfirstname2],input[id$=psiblastname2],input[id$=psibage2]").val("");$("[id$=p-state2]").prop("selectedIndex",0)});function stateFunc(){$("select.state option:first").remove();$(".state").prepend('<option disabled="disabled" selected="selected">Please select a State</option>')}stateFunc();function resetSelect(){var b=document.querySelectorAll("select option");for(var c=0,a=b.length;c<a;c++){b[c].selected=b[c].defaultSelected}}function formLogic(){var n='<a href="https://wish.org/local-chapters#sm.000001nnnt2f0tf0tux692bqfeli5">Click here for a local chapter directory</a>',o="You cannot proceed further unless the family is aware of this referral. If you have additional questions please reach out to your local chapter. ",k=[" Self"," Medical Professional"," Parent/Guardian"," Family Member/Relative"," Other"],g=[" Self"," Parent/Guardian"," Family Member/Relative"],d=["Nurse Practitioner","Physician Assistant","Physician"],a=["2.5","3","4","5","6","7","8","9","10","11","12","13"],p=["firstname","lastname","phonechk","email","city","state-chk","address","postalcode","family-aware-chk","medprovider","r2c-manual-input","wcgender","wcage","wcdob","wcreceivedwish","language","siblings-chk","icd","pdiagnosis","facility","urgency","sibage"],f="To be eligible, children must be older than 2 ½ years old and younger than 18 years old.",b="Please confirm that you have received your parent or guardian’s permission to complete this form.";$(".familyAware").on("change",function(){if($(this).val()=="No"){var q=$(".radioSection input:checked").parent().text();var r=$.inArray(q,k);$(".familyAwareError").css("display","block");$(".medprovcat-other-wrap").css("display","none");$(".medprovcat-other").val("");if(r>-1){$(this).next(".familyAwareError").text(o).append($(n));$(".shownOnYes").addClass("fam-aware-overlay");if(q==" Medical Professional"){$(".medicalProvider").css("display","none")}if(q==" Other"){$(".r2c-manual-input").parent().parent().css("display","none");$(this).next(".familyAwareError").text(o).append($(n))}}else{$(".familyAwareError, .medprovcat-other-wrap").css("display","none");$(".medprovcat-other").val("")}}else{if($(this).val()=="Yes"){var q=$(".radioSection input:checked").parent().text();$(this).next("span").text("");$(".shownOnYes").removeClass("fam-aware-overlay");if(q==" Medical Professional"){$(".medicalProvider").css("display","block")}if(q==" Other"){$(".r2c-manual-input").parent().parent().removeClass("displayNone").css("display","block")}}else{$(".shownOnYes").addClass("fam-aware-overlay");$(".familyAwareError").css("display","none")}}});$("#j_id0\\:frm\\:wcgender").on("change",function(){if($(this).val()!=null){if($(this).val().indexOf("Self-describe")!=-1){$(".self-desc").prop("hidden",false);$(".self-desc-field").addClass("selfdescreq")}else{$(".self-desc").prop("hidden",true);$(".self-desc-field").removeClass("selfdescreq").val("")}formValidationRules()}});$(".medprovcat-other-wrap").css("display","none");$("[id$=medprov]").on("change",function(){if($(this).val()!=null){if($(this).val().indexOf("Other")!=-1){$(".medprovcat-other-wrap").css("display","block")}else{$(".medprovcat-other-wrap").css("display","none");$(".medprovcat-other").val("")}}});$(".medProvCat").on("change",function(){var r=$(".medProvCat").val();var q=$.inArray(r,d);if(q>-1){$(".repeatMedProf").css("display","block")}else{$(".repeatMedProf").css("display","none")}});$(".repeatMedProf").on("change",function(){checkVisible=$(".repeatMedProf input").is(":checked");if(checkVisible==true){$(".mfirstname").val($(".rfirstname").val());$(".mlastname").val($(".rlastname").val());$(".mphone").val($(".rphone").val());$(".memail").val($(".remail").val())}else{if(checkVisible==false){$(".medToRepeat :input").each(function(){$(this).val("")})}}});function j(){var q=$(".radioSection input:checked").parent().text();if((q==" Self")){$(".wcfirstname").val($(".rfirstname").val());$(".wclastname").val($(".rlastname").val())}}$(".refToRepeat :input").on("keyup",j);function i(){var q=$(".radioSection input:checked").parent().text();if((q==" Parent/Guardian")){$(".pfirstname").val($(".rfirstname").val());$(".plastname").val($(".rlastname").val());$(".pphone").val($(".rphone").val());$(".pemailaddress").val($(".remail").val());$(".pcity").val($(".rcity").val());$(".ppostalcode").val($(".rpostalcode").val())}}$(".clone-guardian-1 input").click(function(){if($(this).is(":checked")){$("[id$=paddress2]").val($("[id$=paddress]").val());$("[id$=pcity2]").val($("[id$=pcity]").val());$("[id$=p-state2]").val($("[id$=p-state]").val());$("[id$=ppostalcode2]").val($("[id$=ppostalcode]").val())}else{$("[id$=paddress2], [id$=pcity2], [id$=ppostalcode2]").val("");$("[id$=p-state2]").prop("selectedIndex",0)}});$(".refToParent :input").on("keyup",i);$("[id$=nSib],[id$=nSib2]").on("change",function(){var q=getRadioVal(document.getElementById("j_id0:frm"),"r2c-radio");function r(w,t,v){var s=0;var u=window.setInterval(function(){w();if(++s===v){window.clearInterval(u)}},t)}if($(this).val()!=""||$(this).val()!="0"||$(this).val()!="Unknown"){$(".sibInfo").css("display","block");if(q=="Self"||q=="Parent/Guardian"){console.log("self or parent/guardian selected");r(function(){$("[id$=psibfirstname],[id$=psibfirstname2]").addClass("firstname");$("[id$=psiblastname],[id$=psiblastname2]").addClass("lastname");$("[id$=psibage],[id$=psibage2]").addClass("sibage");formValidationRules()},100,3)}}else{$(".sibInfo").css("display","none");r(function(){$("[id$=psibfirstname],[id$=psibfirstname2]").removeClass("firstname");$("[id$=psiblastname],[id$=psiblastname]").removeClass("lastname");$("[id$=psibage],[id$=psibage]").removeClass("sibage");$("input[id$=psibfirstname],input[id$=psibfirstname2],input[id$=psiblastname],input[id$=psiblastname2],input[id$=psibage],input[id$=psibage2]").each(function(){$(this).rules("remove")})},100,3)}});function l(){$(".wcfirstname").val($(".rfirstname").val());$(".wclastname").val($(".rlastname").val());if($(".wcfirstname").val()==$(".rfirstname").val()){$(".wcfirstname").val("")}if($(".wclastname").val()==$(".rlastname").val()){$(".wclastname").val("")}}function e(){$(".pfirstname").val($(".rfirstname").val());$(".plastname").val($(".rlastname").val());$(".pphone").val($(".rphone").val());$(".pemailaddress").val($(".remail").val());$(".pcity").val($(".rcity").val());$(".ppostalcode").val($(".rpostalcode").val());if($(".pfirstname").val()==$(".rfirstname").val()){$(".pfirstname").val("")}if($(".plastname").val()==$(".rlastname").val()){$(".plastname").val("")}if($(".pphone").val()==$(".rphone").val()){$(".pphone").val("")}if($(".pemailaddress").val()==$(".remail").val()){$(".pemailaddress").val("")}if($(".pcity").val()==$(".rcity").val()){$(".pcity").val("")}if($(".ppostalcode").val()==$(".rpostalcode").val()){$(".ppostalcode").val("")}}function h(){var r=["[id$=aware-of-referral],[id$=wcage],[id$=wcreceivedwish],[id$=plang],[id$=plang2],[id$=nSib],[id$=nSib2],[id$=urgency],[id$=p-r2c-1],[id$=p-r2c-2],[id$=p-state],[id$=p-state2],[id$=diagnosisMonth],[id$=diagnosisYear]"];$("form[id$=frm]").validate().resetForm();function q(){$("input,select").removeClass("r2c-select firstname lastname phonechk email city state-chk address postalcode family-aware-chk medprovider r2c-manual-input wcgender wcage wcdob wcreceivedwish language siblings-chk icd pdiagnosis facility urgency sibage required d-month d-year").removeAttr("aria-required aria-describedby");$("select[id$=aware-of-referral],select[id$=medprov],select[id$=p-r2c-2],input[id$=rfirstname],input[id$=frm\\:pfirstname],input[id$=frm\\:pfirstname2],input[id$=wcfirstname]input,[id$=mpfirstname],input[id$=rlastname],input[id$=frm\\:plastname],input[id$=frm\\:plastname2],input[id$=wclastname],input[id$=mplastname],input[id$=rphone],input[id$=pphonenumber],input[id$=pphonenumber2],input[id$=mpphone],input[id$=remail],input[id$=pemailaddress],input[id$=pemailaddress2],input[id$=pcity],input[id$=pcity2],input[id$=ppostalcode],input[id$=ppostalcode2],select[id$=p-state],select[id$=p-state2],input[id$=wcdob],select[id$=wcgender],input[id$=paddress],input[id$=paddress2],select[id$=plang],select[id$=plang2],input[id$=searchDiagnosisId],input[id$=mphospitalname],input[id$=psibfirstname],input[id$=psibfirstname2],input[id$=psiblastname],input[id$=psiblastname2],input[id$=psibage],input[id$=psibage2],select[id$=frm\\:diagnosisMonth],select[id$=frm\\:diagnosisYear]").each(function(){$(this).rules("remove")})}q();resetSelect(r);$(".sibInfo").css("display","none");$("[id$=aware-of-referral]").parent().parent().css("display","block");$("[id$=aware-of-referral]").prop("selectedIndex",0);const s=$("[id$=p-state],[id$=p-state2]").parents().parents();$(s).removeClass("has-error").children(".col-md-3").children("label").css("color","");$(s).children(".col-md-6").children(".chosen-container-single").children(".chosen-single").css("border","");$(s).children(".col-md-6").children(".help-block").remove();const t=$("[id$=diagnosisMonth],[id$=diagnosisYear]").parents().parents();$(t).removeClass("has-error").children(".col-md-3").children("label").css("color","");$(t).children(".col-sm-3").css("border","");$(t).children(".col-sm-3").children(".help-block").remove()}$(".radioClickable input").click(function(){var r=$(".radioSection input:checked").parent().text();var q=$.inArray(r,g);h();if($(".guardian-2").css("display")=="block"){$("select[id$=p-r2c-2]").addClass("r2c-select")}$("[id$=wcage]").parents(".form-group").addClass("sr-only");$(".shownOnYes").addClass("fam-aware-overlay");m();$(".medprovcat-other-wrap, .other, .main-office-contact, .medical-additional-info").css("display","none");if(r!=""){$(".Relchild").val(r)}if(q>-1){$(".referrerInfo").css("display","block");$(".medicalProvider,.other").css("display","none");if(q==-1||q==2){l();e()}}$("[id$=rphone],[id$=pphonenumber],[id$=pphonenumber2],[id$=mpphone]").addClass("phonechk-std");$("[id$=remail],[id$=mpemail],[id$=pemailaddress],[id$=pemailaddress2]").addClass("email-std");if(r==" Medical Professional"){$(".medProvCat").val("");$(".medProvCat").find("option:first").remove();$(".medProvCat").prepend('<option disabled="disabled" selected="selected">Please select an option</option>');$(".referrerInfo, .medicalProvider, .main-office-contact").css("display","block");$(".other").css("display","none");$("[id$=aware-of-referral]").addClass("family-aware-chk");$("[id$=medprov]").addClass("medprovider");$(".medical-additional-info").show();$("[id$=rfirstname],[id$=frm\\:pfirstname],[id$=frm\\:pfirstname2],[id$=wcfirstname],[id$=mplastname]").addClass("firstname");$("[id$=rlastname],[id$=frm\\:plastname],[id$=frm\\:plastname2],[id$=wclastname],[id$=mplastname]").addClass("lastname");if($("[id$=rphone],[id$=pphonenumber],[id$=pphonenumber2],[id$=mpphone]").hasClass("phonechk-std")){$("[id$=rphone],[id$=pphonenumber],[id$=pphonenumber2],[id$=mpphone]").removeClass("phonechk-std");$("[id$=rphone],[id$=pphonenumber],[id$=pphonenumber2],[id$=mpphone]").addClass("phonechk")}if($("[id$=remail]").hasClass("email-std")){$("[id$=remail]").removeClass("email-std");$("[id$=remail]").addClass("email")}$("[id$=pcity],[id$=pcity2]").addClass("city");$("[id$=ppostalcode],[id$=ppostalcode2]").addClass("postalcode");$("[id$=p-state],[id$=p-state2]").addClass("state-chk");$("[id$=wcdob]").addClass("wcdob");$("[id$=wcgender]").addClass("wcgender");$("[id$=paddress],[id$=paddress2]").addClass("address");$("[id$=plang],[id$=plang2]").addClass("language");$("[id$=searchDiagnosisId]").addClass("pdiagnosis");$("[id$=mphospitalname]").addClass("facility");formValidationRules();l();e()}else{if(r==" Other"){$(".other input").val("");$(".referrerInfo,.other").css("display","block");$(".medicalProvider").css("display","none");$("[id$=aware-of-referral]").addClass("family-aware-chk");$("[id$=r2cManualInput]").addClass("r2c-manual-input");$("[id$=rfirstname],[id$=wcfirstname],[id$=frm\\:pfirstname],[id$=frm\\:pfirstname2]").addClass("firstname");$("[id$=rlastname],[id$=frm\\:plastname],[id$=frm\\:plastname2],[id$=wclastname]").addClass("lastname");if($("[id$=rphone]").hasClass("phonechk-std")){$("[id$=rphone]").removeClass("phonechk-std");$("[id$=rphone]").addClass("phonechk")}if($("[id$=remail]").hasClass("email-std")){$("[id$=remail]").removeClass("email-std");$("[id$=remail]").addClass("email")}$("[id$=rcity]").addClass("city");$("[id$=rpostalcode]").addClass("postalcode");formValidationRules();$("[id$=searchDiagnosisId]").addClass("pdiagnosis");$("[id$=wcage]").parents(".form-group").removeClass("sr-only");$(".repeatMedProf").css("display","none");l();e()}else{if(r==" Self"||r==" Parent/Guardian"||r==" Family Member/Relative"){$("[id$=rfirstname],[id$=frm\\:pfirstname],[id$=frm\\:pfirstname2],[id$=wcfirstname]").addClass("firstname");$("[id$=rlastname],[id$=frm\\:plastname],[id$=frm\\:plastname2],[id$=wclastname],[id$=mplastname]").addClass("lastname");if($("[id$=rphone],[id$=pphonenumber],[id$=pphonenumber2]").hasClass("phonechk-std")){$("[id$=rphone],[id$=pphonenumber],[id$=pphonenumber2]").removeClass("phonechk-std");$("[id$=rphone],[id$=pphonenumber],[id$=pphonenumber2]").addClass("phonechk")}if($("[id$=remail]").hasClass("email-std")){$("[id$=remail]").removeClass("email-std");$("[id$=remail]").addClass("email")}$("[id$=pcity],[id$=pcity2]").addClass("city");$("[id$=ppostalcode],[id$=ppostalcode2]").addClass("postalcode");$("[id$=p-state],[id$=p-state2]").addClass("state-chk");$("[id$=nSib],[id$=nSib2],[id$=psibfirstname],[id$=psibfirstname2],[id$=psiblastname],[id$=psiblastname2],[id$=psibage],[id$=psibage2]").addClass("sibling-chk");$("[id$=wcdob]").addClass("wcdob");$("[id$=wcgender]").addClass("wcgender");$("[id$=paddress],[id$=paddress2]").addClass("address");$("[id$=plang],[id$=plang2]").addClass("language");$("[id$=searchDiagnosisId]").addClass("pdiagnosis");$("[id$=mphospitalname]").addClass("facility");$(".repeatMedProf").css("display","none");if(r==" Self"||r==" Family Member/Relative"){$("[id$=aware-of-referral]").addClass("family-aware-chk")}if(r==" Self"){j();c();e()}if(r==" Family Member/Relative"){$("[id$=r2cManualInput]").addClass("r2c-manual-input").val("");$(".other").css("display","block")}if(r==" Parent/Guardian"){$(".shownOnYes").removeClass("fam-aware-overlay");$("[id$=aware-of-referral]").removeClass("family-aware-chk");$("[id$=aware-of-referral]").parent().parent().css("display","none");$('[id$=aware-of-referral] option[value="Yes"]').prop("selected",true)}formValidationRules();i();l()}}}});function c(){var q=$(".childAge").val();var r=$(".radioSection input:checked").parent().text();var s=$.inArray(q,a);if(s>"-1"&&r==" Self"){$(".alertMsg").text(b);$("#age13under-modal").modal("show")}}$(".childAge").on("change",function(){var q=$("age-text").text();if($(this).val()=="Under 2.5"||$(this).val()=="18 & Above"){$(".alertMsg").text(f);$("#warningModal").modal("show")}if($("select.childAge option:nth-child(20)").length>0){$("select.childAge option:last-child").remove()}if($("select.childAge").val()!=q){$("[id$=wcdob]").val("");$(".age-text").fadeOut(300,function(){$(this).remove()});$("[id$=wcdob]").unmask();$("[id$=wcdob]").mask("99/99/9999",{placeholder:"mm/dd/yyyy",})}c()});function m(){$("[id$=wcdob]").on("keyup",function(){var A=$("[id$=wcage]"),B=$("[id$=wcdob]"),s=$("[id$=wcdob]").val(),z=new Date(),w=new Date(s),C=24*60*60*1000,v=Math.round(Math.abs((z.getTime()-w.getTime())/(C))),q=$(this).val(),u=0,y=["m","d","y"],x=q.indexOf("m")&&q.indexOf("d")&&q.indexOf("y"),r=(function(){var E=0;return function(G,F){clearTimeout(E);E=setTimeout(G,F)}})();function t(I){var H=new Date(),F=new Date(I),G=H.getFullYear()-F.getFullYear(),E=H.getMonth()-F.getMonth();if(E<0||(E===0&&H.getDate()<F.getDate())){G--}return G}function D(){var E=getRadioVal(document.getElementById("j_id0:frm"),"r2c-radio");if($("select.childAge option:nth-child(20)").length>0){$("select.childAge option:last-child").remove()}function F(){$(".alertMsg").text(f);$("#warningModal").modal("show")}$(".age-text").remove();if(v<912.5){$(A).prop("selectedIndex",1);$('<span class="text-muted age-text">Under 2 1/2 years old</span>').insertAfter(B);F()}else{if(v>=6570){$(A).prop("selectedIndex",18);$('<span class="text-muted age-text">Over 18 years old</span>').insertAfter(B);F()}else{if(v>912.5&&v<6570){$(A).prop("selectedIndex",0);$(A).append('<option value="'+t(s)+'" selected="selected">'+t(s)+"</option>");$('<span class="text-muted age-text">'+t(s)+" years old</span>").insertAfter(B);if(E=="Self"&&(v>912.5&&v<4745)){console.log("Self is selected");console.log("between 2.5 - 13 years");$(".alertMsg").text(b);$("#age13under-modal").modal("show")}}}}if(t(s)<0||!t(s)){$(".age-text").remove();$('<span class="text-muted age-text" style="color:red">Oops! Invalid Birthdate</span>').insertAfter(B);r(function(){$("[id$=wcdob]").val("");$(".age-text").fadeOut(300,function(){$(this).remove()});$("[id$=wcdob]").unmask();$("[id$=wcdob]").mask("99/99/9999",{placeholder:"mm/dd/yyyy",});$(A).prop("selectedIndex",0)},1000)}}while(x!==-1){u++;x=q.indexOf(y,x+1)}if(u===0){D()}})}}formLogic();function PrimaryDiagnosis(){var b;var c;var f;var e=$("[id$=searchDiagnosisId]");var d=$("[id$=diagnosisTextId]");d.autocomplete({minLength:2,source:function(h,g){f=h.term;WishReferralForm_AC.searchDiagnosis(h.term,function(i,j){if(j.type=="exception"){alert(j.message)}else{c=i;g(c)}})},response:function(g,h){h.content.push({label:"Please select a ICD code below",value:""})},select:function(i,j){var g=j.item.Condition_Description__c;e.val("");e.prop("disabled",true);d.addClass("value-selected");e.addClass("value-selected");d.val(j.item.Name);$("[id$=shortTextId]").html("Description: "+j.item.Short_Description__c).text();$(".primary-diagnosis-other").prop("hidden",true);$(".primary-diagnosis-other").find("textarea").val("");a();if(typeof g!="undefined"){e.val(j.item.Condition_Description__r.Name);var h=$(".searchDiagnosisId").html(j.item.Condition_Description__r.Name).text();e.val(h);e.prop("disabled",true);a()}return false},}).data("ui-autocomplete")._renderItem=function(g,i){var h="<a>"+i.Name;h=h+"</a>";h=h.replace(f,"<b>"+f+"</b>");if(i.value==""){return $('<li class="ui-state-disabled option-disabled">'+i.label+"</li>").prependTo(g)}else{return $("<li></li>").data("ui-autocomplete-item",i).append(h).appendTo(g)}};function a(){e.css("border","").removeAttr("aria-required aria-describedby");e.parents().removeClass("has-error");e.parents(".primaryDiagnosis").children(".col-sm-3").children("label").css("color","");e.next(".error").remove()}d.keydown(function(g){if(($(this).hasClass("value-selected")||!e.hasClass("value-selected"))&&g.keyCode!=9){$(this).removeClass("value-selected");e.removeClass("value-selected");e.val("");e.prop("disabled",false);$("[id$=shortTextId]").text("")}if(((g.keyCode==9)&&$(this).hasClass("value-selected"))||$(this).val()==""){return true}else{if(g.keyCode==9){g.preventDefault()}}});e.keydown(function(g){if(($(this).hasClass("value-selected")&&g.keyCode!=9)||$(this).val()==""){$(this).removeClass("value-selected");d.removeClass("value-selected");if(d.hasClass("value-selected")==false){d.val("");d.prop("disabled",false);$("[id$=shortTextId]").text("")}}if(((g.keyCode==9)&&$(this).hasClass("value-selected"))||$(this).val()==""){return true}else{if(g.keyCode==9){g.preventDefault()}}});$("body").change("click",function(){if(!e.hasClass("value-selected")){e.val("");e.prop("disabled",false);$(".primary-diagnosis-other").prop("hidden",true);$(".primary-diagnosis-other").find("textarea").val("")}if(!d.hasClass("value-selected")){d.val("");d.prop("disabled",false)}else{if(!d.hasClass("value-selected")&&e.hasClass("value-selected")){return}}});e.autocomplete({minLength:2,source:function(h,g){f=h.term;WishReferralForm_AC.searchCondition(h.term,function(i,j){if(j.type=="exception"){alert(j.message)}else{c=i;g(c)}})},response:function(g,h){h.content.push({label:"Please select a diagnosis below",value:""})},select:function(j,k){var g=k.item.Code_To_Use__c;var h=/^(Other )(.*)$/i.test(k.item.Name);var l=/^(Not Listed)$/i.test(k.item.Name);var i=$(".searchDiagnosisId").html(k.item.Name).text();d.val("");d.prop("disabled",false);e.val(k.item.Name);e.val(i);e.addClass("value-selected");d.focus();if(typeof g!="undefined"){d.val(k.item.Code_To_Use__c);d.prop("disabled",true)}if(h||l){$(".primary-diagnosis-other").prop("hidden",false)}else{$(".primary-diagnosis-other").prop("hidden",true);$(".primary-diagnosis-other").find("textarea").val("")}return false},}).data("ui-autocomplete")._renderItem=function(g,i){var h="<a>"+i.Name;h=h+"</a>";h=h.replace(f,"<b>"+f+"</b>");if(i.value==""){return $('<li class="ui-state-disabled option-disabled">'+i.label+"</li>").prependTo(g)}else{return $("<li></li>").data("ui-autocomplete-item",i).append(h).appendTo(g)}}}PrimaryDiagnosis();$(".submitBtn").click(function(){$(".searchDiagnosisId").val($(".pdiagnosis").val());$(".diagnosisFilter").val($(".diagnosisText").val())});$(".fs").hide();jQuery.extend(jQuery.validator.messages,{required:"Oops! This field is required",email:"Oops! Please enter a valid email address",url:"Oops! Please enter a valid URL",date:"Oops! Please enter a valid date",number:"Oops! Please enter a valid number",digits:"Please enter only digits",});$.validator.addMethod("zipcode",function(b,a){return this.optional(a)||/^\d{5}(?:-\d{4})?$/.test(b)},"Oops! Please enter a valid US postal code");$.validator.addMethod("notEqual",function(b,a){return this.optional(a)||($(".memail").val()!=$(".bemail").val())},"Oops! Please enter an email address different from the Physician's email address");$("form[id$=frm]").validate({ignore:":hidden",errorElement:"em",errorPlacement:function(a,b){a.addClass("help-block");b.parents(".col-sm-6,.col-sm-3").addClass("has-feedback");if(b.prop("type")==="radio"){a.insertBefore(b.parents(".r2c"))}else{a.insertAfter(b)}},highlight:function(d,a,b){var c=$(d).parents(".col-sm-3, .col-sm-6, .col-xs-8.col-sm-4, .r2c, td, .dateInput");$(c).removeClass("has-success").addClass("has-error").prev("label").css("color","red");$(c).removeClass("has-success").addClass("has-error").parents(".sibInfo").children("span").children("span").children("label").css("color","red");$(c).removeClass("has-success").addClass("has-error").prev("div").children("label").css("color","red");$(c).removeClass("has-success").addClass("has-error").prev("div").prev("label").css("color","red");$(c).children(".chosen-container-single").children(".chosen-single").css("border","1px solid red");$(c).children("input, select, textarea").css("border","1px solid red");$(c).children("label").css("border","1px solid red")},unhighlight:function(d,a,b){var c=$(d).parents(".col-sm-3, .col-sm-6, .col-xs-8.col-sm-4, .col-sm-1, .r2c, td, .dateInput");$(c).removeClass("has-error").prev("label").css("color","");$(c).removeClass("has-error").parents(".sibInfo").children("span").children("span").children("label").css("color","");$(c).removeClass("has-error").prev("div").children("label").css("color","");$(c).removeClass("has-success").addClass("has-error").prev("div").prev("label").css("color","");$(c).children(".chosen-container-single").children(".chosen-single").css("border","");$(c).children("input, select, textarea").css("border","");$(c).children(".help-block").remove()},submitHandler:function(){if($("#b98084695645e0e89ec5a2f3c41f0a2d").is(":checked")==true||$("#2-b98084695645e0e89ec5a2f3c41f0a2d").val()!=="udh&6**33#"){onsubmit:false}else{if($("form[id$=frm]").valid()){$(".submitBtn").css({cursor:"not-allowed",opacity:".5"}).addClass("disabled").prop("disabled",true);form.submit();return}}}});function formValidationRules(){$("select.r2c-select").each(function(){$(this).rules("add",{required:true,messages:{required:"Oops! Please select the relationship to the child"}})});$("input.firstname").each(function(){$(this).rules("add",{required:true,minlength:2,maxlength:40,messages:{required:"Oops! Please enter a first name",minlength:"Oops! Your first name must have more than 2 letters",maxlength:"We're sorry, you've reached the maximum allowed characters",}})});$("input.lastname").each(function(){$(this).rules("add",{required:true,minlength:2,maxlength:40,messages:{required:"Oops! Please enter a last name",minlength:"Oops! Your first name must have more than 2 letters",maxlength:"We're sorry, you've reached the maximum allowed characters",}})});$("input.phonechk-std").each(function(){$(this).rules("add",{required:false,minlength:10,maxlength:14,messages:{number:"Only numbers are accepted",minlength:"Oops! Please enter at least 10 digits",maxlength:"We're sorry, you've reached the maximum allowed characters"}})});$("input.phonechk").each(function(){$(this).rules("add",{required:true,minlength:10,maxlength:14,messages:{required:"Oops! Please enter a phone number",number:"Only numbers are accepted",minlength:"Oops! Please enter at least 10 digits",maxlength:"We're sorry, you've reached the maximum allowed characters"}})});$("input.email-std").each(function(){$(this).rules("add",{required:false,email:true,messages:{email:"Oops! You've entered an invalid email address"}})});$("input.email").each(function(){$(this).rules("add",{required:true,email:true,messages:{required:"Oops! Please enter a valid email address",email:"Oops! You've entered an invalid email address"}})});$("input.address").each(function(){$(this).rules("add",{required:true,minlength:5,maxlength:40,messages:{required:"Oops! Please enter an address",minlength:"Oops! Please enter a minimum of 5 characters",maxlength:"We're sorry, you've reached the maximum allowed characters"}})});$("select.state-chk").each(function(){$(this).rules("add",{required:true,messages:{required:"Oops! Please select a state"}})});$("input.city").each(function(){$(this).rules("add",{required:true,minlength:3,maxlength:22,messages:{required:"Oops! Please enter a US city",minlength:"Oops! Please enter at least 3 characters",maxlength:"We're sorry, you've reached the maximum allowed characters",}})});$("input.postalcode-std").each(function(){$(this).rules("add",{required:false,digits:true,minlength:5,maxlength:9,messages:{required:"Oops! Please enter a valid US postal code",digits:"Oops! Please only enter digits",minlength:"Oops! Please enter a minimum of 5 digits",maxlength:"We're sorry, you've reached the maximum allowed characters"}})});$("input.postalcode").each(function(){$(this).rules("add",{required:true,zipcode:true,minlength:5,maxlength:10,messages:{required:"Oops! Please enter a valid US postal code",minlength:"Oops! Please enter a minimum of 5 digits",maxlength:"We're sorry, you've reached the maximum allowed characters"}})});$("input.sibage").each(function(){$(this).rules("add",{required:true,digits:true,minlength:1,maxlength:2,messages:{required:"Oops! Please enter this sibling's age",digits:"Oops! Please only enter digits",minlength:"Oops! Please enter a minimum of 2 digits",maxlength:"We're sorry, you've reached the maximum allowed characters"}})});$("input.r2c-radio").rules("add",{required:true,messages:{required:"Oops! Please select an option"}});$("select.family-aware-chk").rules("add",{required:true,messages:{required:"Oops! Please select an option"}});$("select.medprovider").rules("add",{required:true,messages:{required:"Oops! Please select an option"}});$("input.medprovcat-other").rules("add",{required:true,messages:{required:"Oops! Please enter the other medical provider category"}});$("input.r2c-manual-input").rules("add",{required:true,minlength:3,maxlength:20,messages:{required:"Oops! Please enter your relationship to the Wish Child",minlength:"Oops! Please enter a minimum of 3 characters",maxlength:"We're sorry, you've reached the maximum allowed characters"}});$("select.wcage").rules("add",{required:true,messages:{required:"Oops! Please select the wish child's age"}});$("select.wcgender").rules("add",{required:true,messages:{required:"Oops! The child's gender is required"}});$("input.wcdob").rules("add",{required:true,date:true,messages:{required:"Oops! The child's date of birth is required",date:"Oops! Please enter a valid date in the correct format"}});$("input.wcreceivedwish").rules("add",{required:true,messages:{required:"Oops! This question is required"}});$("select.language").rules("add",{required:true,messages:{required:"Oops! Please select a language"}});$("select.siblings-chk").rules("add",{required:true,messages:{required:"Oops! Please select the number of siblings"}});$("input.icd").rules("add",{required:true,minlength:3,messages:{required:"Oops! Please enter an ICD code",minlength:"Oops! Please enter a minimum of 3 characters"}});$("input.pdiagnosis").rules("add",{required:true,minlength:3,messages:{required:"Oops! Please enter a primary diagnosis",minlength:"Oops! Please enter a minimum of 3 characters",}});$("input.facility").rules("add",{required:true,minlength:3,messages:{required:"Oops! Please enter the name of the hospital or treatment facility",minlength:"Oops! Please enter a minimum of 3 characters",}});$("select.urgency").rules("add",{required:true,messages:{required:"Oops! Please select an option",}});$("input.notqualto").rules("add",{notEqual:true});$("select.d-month").rules("add",{required:true,messages:{required:"Oops! Please select a month"}});$("select.d-year").rules("add",{required:true,messages:{required:"Oops! Please select a year"}});$("textarea.selfdescreq").rules("add",{required:true,messages:{required:"Oops! Please enter a description pertaining to 'Self-describe'"}})}$(".r2c").children("label").children("input").addClass("r2c-radio");$("[id$=p-r2c-1]").addClass("r2c-select");formValidationRules();